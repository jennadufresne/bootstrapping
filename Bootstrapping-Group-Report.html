<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Caelan Bryan">
<meta name="author" content="Jenna Dufresne">
<meta name="author" content="Jamielee Jimenez Perez">
<meta name="dcterms.date" content="2022-11-28">

<title>Bootstrapping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="Bootstrapping-Group-Report_files/libs/clipboard/clipboard.min.js"></script>
<script src="Bootstrapping-Group-Report_files/libs/quarto-html/quarto.js"></script>
<script src="Bootstrapping-Group-Report_files/libs/quarto-html/popper.min.js"></script>
<script src="Bootstrapping-Group-Report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Bootstrapping-Group-Report_files/libs/quarto-html/anchor.min.js"></script>
<link href="Bootstrapping-Group-Report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Bootstrapping-Group-Report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Bootstrapping-Group-Report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Bootstrapping-Group-Report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Bootstrapping-Group-Report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Bootstrapping</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Caelan Bryan </p>
               <p>Jenna Dufresne </p>
               <p>Jamielee Jimenez Perez </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 28, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>View presentation <a href="/bootstrapping/Bootstrapping-Group-Presentation.html">here</a>.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Resampling is the process of creating new samples based on an observed sample to gather more information about either the sample or the population the sample came from. Resampling techniques like permutation tests, cross validation, and the jackknife have been prevalent in the statistics world for a while.</p>
<p>Resampling can come in handy when it’s either impossible or unfeasible to retrieve a sample from the entire population. For instance, if you wanted to learn more about all attendees of a concert it would be very difficult to survey every single person in attendance. While you might not be able to survey everyone at the concert, you most likely could survey a smaller subset, say 100 to 200. With resampling techniques you could verify the accuracy of the original sample, or make observations about the entire population of concert goers.</p>
<p>All of the resampling techniques listed either have assumptions required for them to make meaningful results, fail at specific estimations, or produce errors during the process. The Bootstrap method was introduced to overcome some of the pitfalls of the jackknife resampling method.</p>
<section id="what-is-the-bootstrap-method" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-bootstrap-method">What is the Bootstrap Method</h3>
<p>The Bootstrap Method was first introduced by Bradley Efron in Bootstrap Methods: Another Look at the Jackknife <span class="citation" data-cites="efron1">(<a href="#ref-efron1" role="doc-biblioref">B. Efron 1979</a>)</span>. He described the Bootstrap as a more primitive method, whose applications are more wide and dependable than those of the jackknife. The Bootstrap was introduced as a way to estimate a sampling distribution based on the observed sample. The Bootstrap is also shown to estimate the variance here, which is an area the jackknife fails at, along with being shown to do well as estimated the error rates in certain problems, outperforming other non-parametric estimation methods.</p>
<p>At a very high-level, Bootstrapping is the process of taking a sample and using it to create a new sample with replacement. Doing so gives every observation an equal chance to show up in the new sample, and some might show up more than once while others might not show up due to replacement. Doing this multiple times can give an understanding about the population that the original sample came from.</p>
<p>While all Bootstrap methods follow the same formula, there are some slight differences between different version of the Bootstrap. For example, the Monte Carlo technique takes exact copies of the data from the original sample to place into the new sample <span class="citation" data-cites="introduction">(<a href="#ref-introduction" role="doc-biblioref">Hossain 2000</a>)</span> while the Bayesian Bootstrap adds weights to each observation before selecting the data for the new sample. These slight differences result in multiple different types of Bootstraps that can be used for different applications or to get around certain assumptions of another type of Bootstrap.</p>
</section>
<section id="assumptions-and-shortcomings" class="level3">
<h3 class="anchored" data-anchor-id="assumptions-and-shortcomings">Assumptions and Shortcomings</h3>
<p>As Bootstrapping gains popularity, it’s important to understand that there are still assumptions that must be met, and shortcomings that should be understood. The Importance of Discussing Assumptions when Teaching Bootstrapping <span class="citation" data-cites="assumptions">(<a href="#ref-assumptions" role="doc-biblioref">Totty, Molyneux, and Fuentes 2021</a>)</span> takes an interesting approach of looking at those who are learning about Bootstrapping, and assessing possible pain points. The largest assumption listed is that the distribution can be made approximately pivotal through shifting or studentization. Further in this paper, an interesting result came out that if assumptions are broken when performing the Bootstrap method, it performs no better or worse then other methods whose assumptions are also broken. Performing Bootstrapping with broken assumptions can also lead to decreased performance of the method.</p>
<p>One of the shortcomings of the Bootstrap method is that the results still rely on the original sample <span class="citation" data-cites="introduction">(<a href="#ref-introduction" role="doc-biblioref">Hossain 2000</a>)</span>. So, if the original sample contains many outliers, then it most likely won’t produce an accurate representation of the population. Small sample sizes and data that does not follow a normal distribution has also been found to negatively impact the performance of Bootstrapping methods <span class="citation" data-cites="assumptions">(<a href="#ref-assumptions" role="doc-biblioref">Totty, Molyneux, and Fuentes 2021</a>)</span>.</p>
</section>
<section id="applications" class="level3">
<h3 class="anchored" data-anchor-id="applications">Applications</h3>
<p>Bootstrapping has far reaching applications from finding a population mean to performing hypothesis testing. Initially, Efron introduced the Bootstrap method to estimate the sampling distribution, estimate the median, error rate estimation in discrimination analysis, Wilcoxon’s statistic, and regression models <span class="citation" data-cites="efron1">(<a href="#ref-efron1" role="doc-biblioref">B. Efron 1979</a>)</span>. Another application from Efron was introduced in Nonparametric Estimates of Standard Error: The Jackknife, the Bootstrap, and Other Methods <span class="citation" data-cites="efron2">(<a href="#ref-efron2" role="doc-biblioref">Bradley Efron 1981</a>)</span>. He introduces the concept of using the Bootstrap to estimate the standard error based on the data. While this is normally done using parametric modeling methods, here it is being done with non-parametric methods, like the Bootstrap. As time has progressed, and computers have become more powerful, the applications of Bootstrapping have increased.</p>
<p>One popular application is using Bootstrapping to create confidence intervals for certain statistics. Due to the nature of Bootstrapping, it creates results that make perfect sense to construct confidence intervals. Often, Bootstrapping implements confidence intervals around estimated parameter values <span class="citation" data-cites="confidenceintervals">(<a href="#ref-confidenceintervals" role="doc-biblioref">Puth, Neuhäuser, and Ruxton 2015</a>)</span>. One example is using Bootstrapping to find the population mean of a specific feature based on the sample means. A few other similar applications are creating a confidence interval for the population mean and estimating the distribution of a sample mean <span class="citation" data-cites="introduction">(<a href="#ref-introduction" role="doc-biblioref">Hossain 2000</a>)</span>.</p>
<p>Another popular application to Bootstrapping is in regression. In regression, the Bootstrap method can be used to perform validation on the model. In Bootstrapping with R to make generalized inference for regression model <span class="citation" data-cites="withr">(<a href="#ref-withr" role="doc-biblioref">Sillabutra et al. 2016</a>)</span> the authors used the Bootstrap method to resample thousands of times, fit a model to each new sample, and save the intercept and regression coefficient estimates. Confidence intervals can then be created to assess performance of a population regression model against the Bootstrap sample models. Another possible application of Bootstrapping in regression is using it to approximate the distribution of the Lasso estimator for all possible values of the unknown regression parameter vector <span class="citation" data-cites="lasso">(<a href="#ref-lasso" role="doc-biblioref">Chatterjee and Lahiri 2011</a>)</span>. The residual bootstrap can also be used to consistently estimate the distribution and variance of the adaptive Lasso estimator.</p>
<p>The rise of statistical and mathematical programming languages and tools have greatly improved the state of Bootstrapping. Since Bootstrapping normally requires a large number of iterations to produce meaningful results, faster computers and tools have allowed statisticians to gain useful information. software packages have been created for SAS, Stata <span class="citation" data-cites="difficult">(<a href="#ref-difficult" role="doc-biblioref">MD et al. 2005</a>)</span>, and R <span class="citation" data-cites="withr">(<a href="#ref-withr" role="doc-biblioref">Sillabutra et al. 2016</a>)</span> that allow common Bootstrapping functionality to be used readily and easily.</p>
</section>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<p>There are a variety of different Bootstrap methods for specific scenarios, populations, samples, and applications. Although, many of the Bootstrap methods follow a similar set of steps. These steps for the one-sample problem were outlined in Bootstrap Methods: Another Look at the Jackknife <span class="citation" data-cites="efron1">(<a href="#ref-efron1" role="doc-biblioref">B. Efron 1979</a>)</span></p>
<ol type="1">
<li>Construct the sample probability distribution <span class="math inline">\(\hat{F}\)</span>, putting mass <span class="math inline">\(1/n\)</span> at each point <span class="math inline">\(x_1, x_2, x_3, . . . , x_n\)</span>.</li>
<li>With <span class="math inline">\(\hat{F}\)</span> fixed, draw a random sample of size <span class="math inline">\(n\)</span> from <span class="math inline">\(\hat{F}\)</span>, say <span class="math inline">\(X_{i}^{*} = x_{i}^{*}\)</span>, <span class="math inline">\(X_{i}^{*} \sim _{ind}\hat{F}\)</span> and call this the bootstrap sample.</li>
<li>Approximate the sampling distribution of <span class="math inline">\(R(X, \hat{F}\)</span> by the bootstrap distribution of <span class="math inline">\(R^{*} = R(X^{*}, \hat{F})\)</span>.</li>
</ol>
<p>Or more simply, to perform the Bootstrap method as proposed, given a sample of size <span class="math inline">\(n\)</span>, a new sample of size <span class="math inline">\(n\)</span> can be created by selecting from the original sample with replacement. Since the new sample is created with replacement, every element from the original sample has the same probability of ending up in the new sample. This can then by performed multiple times to estimate the sampling distribution based on the Bootstrap distribution.</p>
<p>As time went on, new methods for Bootstrapping were introduced to be applied to different applications or to further enhance the accuracy. Some of the more popular methods are listed below.</p>
<section id="types-of-bootstrap" class="level3">
<h3 class="anchored" data-anchor-id="types-of-bootstrap">Types of Bootstrap</h3>
<p><strong>Monte Carlo Case resampling</strong></p>
<p>In the Monte Carlo method, a new sample is created by randomly selecting values from the original sample using replacement to create a sample of the same size. Statistics can then be computed from this new sample. This process is then repeated many times to create an estimate of the population statistic. <span class="citation" data-cites="efron1">(<a href="#ref-efron1" role="doc-biblioref">B. Efron 1979</a>)</span></p>
<p><strong>Exact Case resampling</strong></p>
<p>The exact version for Bootstrap case resampling is similar to the Monte Carlo method, except every possible enumeration of the initial sample is created. The downside to this method is since there are a total of <span class="math inline">\({2n - 1 \choose n} = \frac{(2n - 1)!}{n!(n - 1)!}\)</span> possible samples, the process can be very intensive for large sample sizes. <span class="citation" data-cites="introduction">(<a href="#ref-introduction" role="doc-biblioref">Hossain 2000</a>)</span></p>
<p><strong>Smooth Bootstrap</strong></p>
<p>In the Smooth Bootstrap, a small amount of random noise is added to every re-sampled observation. This noise is zero-centered and usually normally distributed. Doing this means that the re-sampled data is not limited to just the data in the original sample, but rather to data points in close proximity to the original samples. <a href="#fig-1">Figure&nbsp;1</a> shows an example of the simple bootstrap density function and <a href="#fig-2">Figure&nbsp;2</a> shows an example of the smoothed density function provided by <span class="citation" data-cites="smooth">(<a href="#ref-smooth" role="doc-biblioref">Dwornicka, Goroshko, and Pietraszek 2019</a>)</span>.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Bootstrapping-Group-Report_files\figure-html\smooth1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Simple Bootstrap Density Function</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Bootstrapping-Group-Report_files\figure-html\smooth2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Smoothed Bootstrap Density Function</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<p>While these are some of the more popular methods for Bootstrapping, since Bootstrapping simply refers to a test that uses random sampling with replacement, there are multiple other types of Bootstrap methods. Some others include the Bayesian Bootstrap method, which creates new samples through assigning weights to the original data <span class="citation" data-cites="bayesian">(<a href="#ref-bayesian" role="doc-biblioref">Rubin 1981</a>)</span>, the Parametric Bootstrap, the Poisson Bootstrap, the Block Bootstrap, and resampling residuals.</p>
</section>
</section>
<section id="analysis-and-results" class="level2">
<h2 class="anchored" data-anchor-id="analysis-and-results">Analysis and Results</h2>
<section id="data-and-visualization" class="level3">
<h3 class="anchored" data-anchor-id="data-and-visualization">Data and Visualization</h3>
<section id="initial-data-sets" class="level4">
<h4 class="anchored" data-anchor-id="initial-data-sets">Initial Data Sets</h4>
<p>The dataset being used to explore Bootstrapping is the “Causes of Death - Our World in Data” dataset from Kaggle <span class="citation" data-cites="chavez_2022">(<a href="#ref-chavez_2022" role="doc-biblioref">Chavez 2022</a>)</span> which was expanded with the World Bank population dataset <span class="citation" data-cites="worldbank">(<a href="#ref-worldbank" role="doc-biblioref">2022</a>)</span>. The “Causes of Death - Our World in Data” dataset contains thirty three causes of death broken down by continent, region, country, and territory and by the year of reporting. The World Bank population dataset contains population numbers for multiple years also broken down by continent, region, country, and territory. The populations from the population dataset were added into the causes of death dataset to allow for the calculation of the rate of death, or percentage of total population, for each cause of death.</p>
<p>To complete the original dataset, all rows that did not correspond to countries were removed. The number of executions and terrorism columns were also removed from the original causes of death dataset due to a lack of data for most countries.</p>
<p>As a final note, the Vatican and Liechtenstein are the only two countries missing from the final, cleaned, dataset because they were not included in the original causes of death dataset from Kaggle.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>bootstrapping_data_cleaned <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">'bootstrapping_data_cleaned.csv'</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-cleaning" class="level4">
<h4 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h4>
<p>In order to fit the data into the experiments introduced later in the paper, the dataset will need to be further modified. A new column, Number_Of_Deaths, that includes the total number of reported deaths for a specific country and year by adding together the totals from all causes of deaths will be added. Next, only the columns needed for the experiments are extracted into a new dataset called boot_data. At this point, only data from the most recent reported year, 2019, is also extracted. The columns needed are the Entity, Population, Number_of_Deaths, Deaths_cardiovascularDiseases, and Deaths_InterpersonalViolence columns. Lastly, a new column is created that is the rate of all deaths caused by cardiovascular diseases.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the total number of reported deaths column</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>bootstrapping_data_cleaned<span class="sc">$</span>Number_Of_Deaths <span class="ot">&lt;-</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowSums</span>(bootstrapping_data_cleaned[,(<span class="dv">5</span><span class="sc">:</span><span class="dv">35</span>)])</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter down the data to just include 2019 and just the columns needed</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>boot_data <span class="ot">=</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  bootstrapping_data_cleaned[bootstrapping_data_cleaned<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">'2019'</span>, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">c</span>(<span class="st">'Entity'</span>, <span class="st">'Population'</span>, <span class="st">'Number_Of_Deaths'</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                               <span class="st">'Deaths_CardiovascularDiseases'</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                               <span class="st">'Deaths_InterpersonalViolence'</span>)]</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the cardiovascular diseases rate column</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>boot_data<span class="sc">$</span>Deaths_CardiovascularDiseasesRate <span class="ot">&lt;-</span> </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  boot_data<span class="sc">$</span>Deaths_CardiovascularDiseases <span class="sc">/</span> boot_data<span class="sc">$</span>Number_Of_Deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The dataset now contains the following columns:</p>
<table class="table">
<colgroup>
<col style="width: 38%">
<col style="width: 36%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Entity</td>
<td>Name of Country</td>
<td>Nominal</td>
</tr>
<tr class="even">
<td>Population</td>
<td>Population of Country in 2019</td>
<td>Discrete</td>
</tr>
<tr class="odd">
<td>Number_of_Deaths</td>
<td>Total Number of Deaths for Country in 2019</td>
<td>Discrete</td>
</tr>
<tr class="even">
<td>Deaths_CardiovascularDiseases</td>
<td>Total Number of Deaths for Country Caused by Cardiovascular Diseases in 2019</td>
<td>Nominal</td>
</tr>
<tr class="odd">
<td>Deaths_InterpersonalViolence</td>
<td>Total Number of Deaths for Country Caused by Interpersonal Violence in 2019</td>
<td>Discrete</td>
</tr>
<tr class="even">
<td>Deaths_CardiovascularDiseasesRate</td>
<td>Rate of Deaths in Country Caused by Cardiovascular Diseases in 2019</td>
<td>Continuous</td>
</tr>
</tbody>
</table>
</section>
<section id="descriptive-statistics" class="level4">
<h4 class="anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h4>
<p>Now that the dataset is created, we can find population descriptive statistics to compare against the estimated population statistics from Bootstrapping. The data can also be visualized to check that the rate of deaths caused by cardiovascular diseases follows a normal distribution and that there appears to be a relationship between the number of deaths caused by interpersonal violence and the population of a country.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find cardiovascular disease death rate statistics</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>boot_means <span class="ot">&lt;-</span> boot_data <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">mean_cardiovasculardiseasesrate =</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">mean</span>(Deaths_CardiovascularDiseasesRate),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">sd_cardiovasculardiseasesrate =</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">sd</span>(Deaths_CardiovascularDiseasesRate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The average rate of deaths caused by cardiovascular diseases across the entire population is 0.3273, or 32.73%, with a standard deviation of 0.1309, or 13.09%.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the cardiovascular diseases death rate</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>cardioHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot_data, </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">aes</span>(<span class="at">x =</span> Deaths_CardiovascularDiseasesRate)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">xlab</span>(<span class="st">'Cardiovascular Diseases Death Rate'</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">ylab</span>(<span class="st">'Count'</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">geom_histogram</span>()</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the interpersonal violence death rate against population</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>violenceHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot_data, </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">aes</span>(<span class="at">x =</span> Deaths_InterpersonalViolence, </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                                <span class="at">y =</span> Population)) <span class="sc">+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">xlab</span>(<span class="st">'Interpersonal Violence Deaths (log 10)'</span>) <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ylab</span>(<span class="st">'Population (log 10)'</span>) <span class="sc">+</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">geom_point</span>() </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(cardioHistogram, violenceHistogram, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bootstrapping-Group-Report_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Based on the histogram for the cardiovascular diseases death rate, it appears that the death rate for cardiovascular diseases may follow a normal distribution. The plot for interpersonal violence shows that there may be a relationship between the number of deaths caused by interpersonal violence and the population of the country. In both cases the data appear to be good contenders for statistical modeling using the Bootstrap method.</p>
</section>
</section>
<section id="statistical-modeling" class="level3">
<h3 class="anchored" data-anchor-id="statistical-modeling">Statistical Modeling</h3>
<p>Two applications of the Bootstrap method, both using the Monte Carlo method (new samples are the exact size as the original sample) will be analyzed. The first application is estimating the population mean and standard deviation of the cardiovascular diseases death rate. The second application is testing the variability of a simple linear regression model that estimates the number of interpersonal violence deaths on the population of a country.</p>
<p>In both experiments a sample of the full population data will need to be taken to continue with the Bootstrap applications. A sample of the population was taken, without replacement, with size <span class="math inline">\(n = 20\)</span> to use in the two applications.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the initial sample</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>boot_initial_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(boot_data), <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="estimating-population-mean-and-standard-deviation" class="level4">
<h4 class="anchored" data-anchor-id="estimating-population-mean-and-standard-deviation">Estimating Population Mean and Standard Deviation</h4>
<p>To estimate the population mean and standard deviation using the Bootstrap method, 1,000 new samples were created, with replacement, using the initial sample created. A simple loop can be created to continuously create these new samples. For every new sample that is created, the mean and standard deviation can be calculated and saved to be analyzed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors to store new sample means and standard deviations</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 1,000 new samples and save the means and standard deviations</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  boot_new_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(boot_initial_sample, <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_means,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">pull</span>(</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">summarize</span>(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                                     boot_data[boot_new_sample,], </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">mean</span>(Deaths_CardiovascularDiseasesRate))))</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_sds, </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">pull</span>(</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">summarize</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                                   boot_data[boot_new_sample,], </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">sd</span>(Deaths_CardiovascularDiseasesRate))))</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display some estimated means</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(boot_estimated_means)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4609054 0.4027245 0.3656332 0.3721877 0.3540715 0.3567189</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display some estimated standard deviations</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(boot_estimated_sds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1363290 0.1312991 0.1501239 0.1546183 0.1583402 0.1241831</code></pre>
</div>
</div>
<p>In order to create a 95% confidence interval for the population mean and standard deviation, the top and bottom 2.5% of saved means and standard deviations can be trimmed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the estimated means from smallest to largest</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">sort</span>(boot_estimated_means)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the estimated standard deviations from smallest to largest</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">sort</span>(boot_estimated_sds)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Trim the top and bottom 2.5%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>start <span class="ot">=</span> <span class="fu">length</span>(boot_estimated_means) <span class="sc">*</span> <span class="fl">0.025</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>end <span class="ot">=</span> <span class="fu">length</span>(boot_estimated_means) <span class="sc">*</span> <span class="fl">0.975</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> boot_estimated_means[start<span class="sc">:</span>end]</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> boot_estimated_sds[start<span class="sc">:</span>end]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, by retrieving the first and last element in both the mean and standard deviation vectors, the 95% estimated population intervals can be constructed. The 95% confidence interval for the population mean is [0.3003, 0.433] or [30.03%, 43.3%]. The 95% confidence interval for the population standard deviation is [0.1084, 0.1818] or [10.84%, 18.18%].</p>
<p>To evaluate the accuracy of the estimated population mean and standard deviation for the rate of deaths caused by cardiovascular diseases, the population mean and standard deviation found from the full population can be compared to the estimated confidence intervals. The true population statistics should fall within the confidence interval range. In this case:</p>
<center>
<span class="math inline">\(0.3003 &lt; 0.3273 &lt; 0.433\)</span>
</center>
<center>
<span class="math inline">\(0.1084 &lt; 0.1309 &lt; 0.1818\)</span>
</center>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display a histogram of the estimated means from the Bootstrap samples</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="fu">aes</span>(boot_estimated_means))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bootstrapping-Group-Report_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Visualizing the estimated means shows that they follow a normal distribution. This matches the full population data for the rate of deaths caused by cardiovascular diseases, which also follows a normal distribution.</p>
</section>
<section id="finding-variablility-of-regression-model" class="level4">
<h4 class="anchored" data-anchor-id="finding-variablility-of-regression-model">Finding Variablility of Regression Model</h4>
<p>The next experiment is finding the variability for a simple linear regression model. For this experiment a model will be fit that estimates the number of deaths caused by interpersonal violence by the population of a country. Similar to the first experiment, 1,000 new samples will be created and analyzed, except instead of retrieving the mean and standard deviation, a linear regression model will be fit based on the new sample and the intercept and regression parameter will be extracted and saved.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors to store new intercepts and regression parameters</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>boot_estimated_intercepts <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>boot_estimated_regressionparameters <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 1,000 new samples and save the intercepts and parameters</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>) {</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  boot_new_reg_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(boot_initial_sample, <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  boot_new_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                    boot_data[boot_new_reg_sample,])</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  boot_estimated_intercepts <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_intercepts, </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                                      boot_new_lm<span class="sc">$</span>coefficients[<span class="dv">1</span>])</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  boot_estimated_regressionparameters <span class="ot">&lt;-</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">append</span>(boot_estimated_regressionparameters, </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>           boot_new_lm<span class="sc">$</span>coefficients[<span class="dv">2</span>])</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once all models have been created, and the intercept and regression parameter saved, a model can be fit based on the full population and the initial sample so the Bootstrap model can be compared against the other two. The intercept and regression parameter for the Bootstrap model can find found by simply taking the average of the estimated intercepts and estimated regression parameter vectors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create population model</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>pop_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population, boot_data)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create initial sample model</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>sample_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population, </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>                boot_data[boot_initial_sample,])</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Find Bootstrapping average values</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>boot_lm_intercept <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_estimated_intercepts) </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>boot_lm_x1 <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_estimated_regressionparameters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 26%">
<col style="width: 29%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Population</th>
<th>Sample</th>
<th>Bootstrap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td>1183.7272946</td>
<td>-178.6216841</td>
<td>-699.2135373</td>
</tr>
<tr class="even">
<td>x</td>
<td>2.4147731^{-5}</td>
<td>1.2629038^{-4}</td>
<td>1.4353195^{-4}</td>
</tr>
</tbody>
</table>
<p>Based on the table above, it should be clear that the Bootstrap model more closely fits the sample model than the population model. Since the method produces different results every time it is ran, it is hard to speak to the exact numbers, but the sample and Bootstrap models are usually relatively close to each other, while the population model might not be close. This tells us that the full population model has high variability, or is sensitive to outliers or other influential data points. This outcome can also be visualized by viewing a plot of the original data with the population, sample, and Bootstrap models displayed. To visualize what the Bootstrap method is doing, all 1,000 iterations of models are also displayed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data, population model, sample model, and final Bootstrap model </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (average of all models)</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>final_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Population, <span class="at">y =</span> Deaths_InterpersonalViolence), </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data =</span> boot_data) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">coef</span>(pop_lm)[<span class="dv">1</span>], </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">coef</span>(pop_lm)[<span class="dv">2</span>], </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color=</span> <span class="st">'blue'</span>) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">coef</span>(sample_lm)[<span class="dv">1</span>], </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">coef</span>(sample_lm)[<span class="dv">2</span>], </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color =</span> <span class="st">'green'</span>) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">mean</span>(boot_estimated_intercepts), </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">mean</span>(boot_estimated_regressionparameters), </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color =</span> <span class="st">'red'</span>) <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>              <span class="fu">xlab</span>(<span class="st">'Population'</span>) <span class="sc">+</span> </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ylab</span>(<span class="st">'Interpersonal Violence Deaths'</span>) <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ggtitle</span>(<span class="st">'Regression Comparison'</span>) <span class="sc">+</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>              <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Model"</span>)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Add all Bootstrap models</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(boot_estimated_intercepts)) {</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  final_plot <span class="ot">&lt;-</span> final_plot <span class="sc">+</span> </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>                <span class="fu">geom_abline</span>(<span class="at">intercept =</span> boot_estimated_intercepts[x], </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>                            <span class="at">slope =</span> boot_estimated_regressionparameters[x], </span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>                            <span class="at">alpha =</span> <span class="fl">0.025</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Display final plot</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>final_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bootstrapping-Group-Report_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A comparison of the regression lines further solidify the results shown in the table. The sample model (green) and Bootstrap model (red) usually fall closely together on the line. Since the Bootstrap models are created using the same set of data as the initial sample this is expected. With this specific data set, how close the population model (blue) falls to the other two is highly variable. Since the results are different every time the models are created it’s possible that the Bootstrap model could fit the true population almost identically. More interesting, to visualize the variability, all Bootstrap models created are graphed (black). This shows the extreme values that can occur with this dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the intercepts found from the Bootstrap method</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>interceptHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(boot_estimated_intercepts) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">xlab</span>(<span class="st">"Bootstrap Intercepts"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the regression parameter found from the Bootstrap </span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># method</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>parameterHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(boot_estimated_regressionparameters) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">xlab</span>(<span class="st">"Bootstrap Regression Parameters"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(interceptHistogram, parameterHistogram, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Bootstrapping-Group-Report_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Again, similar to the means and standard deviations found in the first experiment, the intercepts appear to follow a normal distribution. The regression parameters usually do not appear to follow a normal distribution.</p>
</section>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>In the first experiment, the population mean and standard deviation were estimated using the Bootstrap method. After 1,000 new samples were created and the means and standard deviations from every sample saved, they were used to create a 95% confidence interval for the population mean and standard deviations. Using those confidence intervals, the true population values could be compared. It was found that the confidence interval for both the mean and standard deviation fell within the confidence intervals. Lastly, we could visualize that the estimated means followed a normal distribution.</p>
<p>In the second experiment the simple linear regression model to estimate the number of deaths caused by interpersonal violence on the country population was analyzed for variability in the model. Again, using 1,000 new samples, a model was fit for every sample created and the intercepts and regression parameters were saved. The average of all 1,000 intercepts and regression parameters were found to create the Bootstrap model. This model was then compared against the model created using the full population data and the model created using the initial sample data. It was found that the Bootstrap model usually follows the sample model more closely than the full population model. A graph was presented to show the difference between the three models, along with displaying all models created as part of the Bootstrap method.</p>
<p>These two experiments scratch the surface of demonstrate the usefulness of the Bootstrap method. The population mean, standard deviation, and distribution of the rate of death caused by cardiovascular diseases were able to be successfully estimated. The model of deaths caused by interpersonal violence on population was able to be analyzed to show it has high variability.</p>
</section>
</section>
<section id="references" class="level2">

<!-- -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-worldbank" class="csl-entry" role="doc-biblioentry">
2022. <a href="https://data.worldbank.org/indicator/SP.POP.TOTL">https://data.worldbank.org/indicator/SP.POP.TOTL</a>.
</div>
<div id="ref-lasso" class="csl-entry" role="doc-biblioentry">
Chatterjee, A., and S. N. Lahiri. 2011. <span>“Bootstrapping Lasso Estimators.”</span> <em>Journal of the American Statistical Association</em> 106 (494): 608–25. <a href="http://www.jstor.org/stable/41416396">http://www.jstor.org/stable/41416396</a>.
</div>
<div id="ref-chavez_2022" class="csl-entry" role="doc-biblioentry">
Chavez, Ivan. 2022. <a href="https://www.kaggle.com/datasets/ivanchvez/causes-of-death-our-world-in-data">https://www.kaggle.com/datasets/ivanchvez/causes-of-death-our-world-in-data</a>.
</div>
<div id="ref-smooth" class="csl-entry" role="doc-biblioentry">
Dwornicka, Renata, Andrii Goroshko, and Jacek Pietraszek. 2019. <span>“The Smoothed Bootstrap Fine-Tuning.”</span> <em>System Safety: Human - Technical Facility - Environment</em> 1 (1): 716–23. <a href="https://doi.org/doi:10.2478/czoto-2019-0091">https://doi.org/doi:10.2478/czoto-2019-0091</a>.
</div>
<div id="ref-efron1" class="csl-entry" role="doc-biblioentry">
Efron, B. 1979. <span>“Bootstrap Methods: Another Look at the Jackknife.”</span> <em>The Annals of Statistics</em> 7 (1): 1–26. <a href="http://www.jstor.org/stable/2958830">http://www.jstor.org/stable/2958830</a>.
</div>
<div id="ref-efron2" class="csl-entry" role="doc-biblioentry">
Efron, Bradley. 1981. <span>“Nonparametric Estimates of Standard Error: The Jackknife, the Bootstrap and Other Methods.”</span> <em>Biometrika</em> 68 (3): 589–99. <a href="http://www.jstor.org/stable/2335441">http://www.jstor.org/stable/2335441</a>.
</div>
<div id="ref-introduction" class="csl-entry" role="doc-biblioentry">
Hossain, Mohammad. 2000. <span>“Bootstrapping – an Introduction and Its Applications in Statistics.”</span> <em>Bangladesh Journal of Scientific Research</em> 18 (January): 75–88.
</div>
<div id="ref-difficult" class="csl-entry" role="doc-biblioentry">
MD, MS, PhD MD, Jason Haukoos, and Roger Lewis. 2005. <span>“Advanced Statistics: Bootstrapping Confidence Intervals for Statistics with <span>‘Difficult’</span> Distributions.”</span> <em>Academic Emergency Medicine</em> 12 (April): 360–65. <a href="https://doi.org/10.1197/j.aem.2004.11.018">https://doi.org/10.1197/j.aem.2004.11.018</a>.
</div>
<div id="ref-confidenceintervals" class="csl-entry" role="doc-biblioentry">
Puth, Marie-Therese, Markus Neuhäuser, and Graeme D. Ruxton. 2015. <span>“On the Variety of Methods for Calculating Confidence Intervals by Bootstrapping.”</span> <em>Journal of Animal Ecology</em> 84 (4): 892–97. https://doi.org/<a href="https://doi.org/10.1111/1365-2656.12382">https://doi.org/10.1111/1365-2656.12382</a>.
</div>
<div id="ref-bayesian" class="csl-entry" role="doc-biblioentry">
Rubin, Donald B. 1981. <span>“The Bayesian Bootstrap.”</span> <em>The Annals of Statistics</em> 9 (1): 130–34. <a href="http://www.jstor.org/stable/2240875">http://www.jstor.org/stable/2240875</a>.
</div>
<div id="ref-withr" class="csl-entry" role="doc-biblioentry">
Sillabutra, Jutatip, Prasong Kitidamrongsuk, Chukiat Viwatwongkasem, Chareena Ujeh, Siam Sae-tang, and Khanokporn Donjdee. 2016. <span>“Bootstrapping with r to Make Generalized Inference for Regression Model.”</span> <em>Procedia Computer Science</em> 86: 228–31. https://doi.org/<a href="https://doi.org/10.1016/j.procs.2016.05.103">https://doi.org/10.1016/j.procs.2016.05.103</a>.
</div>
<div id="ref-assumptions" class="csl-entry" role="doc-biblioentry">
Totty, Njesa, James Molyneux, and Claudio Fuentes. 2021. <span>“The Importance of Discussing Assumptions When Teaching Bootstrapping.”</span> arXiv. <a href="https://doi.org/10.48550/ARXIV.2112.07737">https://doi.org/10.48550/ARXIV.2112.07737</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb17" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Bootstrapping"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> true</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">  - Caelan Bryan</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">  - Jenna Dufresne </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">  - Jamielee Jimenez Perez</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> '`r Sys.Date()`'</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">  pdf:</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: false</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: false</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="an">course:</span><span class="co"> STA 6257 - Advanced Statistical Modeling</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib </span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>View presentation <span class="co">[</span><span class="ot">here</span><span class="co">](/bootstrapping/Bootstrapping-Group-Presentation.html)</span>.</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>Resampling is the process of creating new samples based on an observed sample to</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>gather more information about either the sample or the population the sample</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>came from. Resampling techniques like permutation tests, cross validation, and </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>the jackknife have been prevalent in the statistics world for a while. </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>Resampling can come in handy when it's either impossible or unfeasible to </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>retrieve a sample from the entire population. For instance, if you wanted to </span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>learn more about all attendees of a concert it would be very difficult to </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>survey every single person in attendance. While you might not be able to </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>survey everyone at the concert, you most likely could survey a smaller subset,</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>say 100 to 200. With resampling techniques you could verify the accuracy of</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>the original sample, or make observations about the entire population of</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>concert goers.</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>All of the resampling techniques listed either have assumptions required for</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>them to make meaningful results, fail at specific estimations, or produce </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>errors during the process. The Bootstrap method was introduced to overcome</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>some of the pitfalls of the jackknife resampling method.</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="fu">### What is the Bootstrap Method</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>The Bootstrap Method was first introduced by Bradley Efron in Bootstrap </span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>Methods: Another Look at the Jackknife <span class="co">[</span><span class="ot">@efron1</span><span class="co">]</span>. He described the Bootstrap</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>as a more primitive method, whose applications are more wide and dependable</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>than those of the jackknife. The Bootstrap was introduced as a way to estimate</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>a sampling distribution based on the observed sample. The Bootstrap is also </span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>shown to estimate the variance here, which is an area the jackknife fails at,</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>along with being shown to do well as estimated the error rates in certain </span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>problems, outperforming other non-parametric estimation methods.</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>At a very high-level, Bootstrapping is the process of taking a sample and using</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>it to create a new sample with replacement. Doing so gives every observation</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>an equal chance to show up in the new sample, and some might show up more than</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>once while others might not show up due to replacement. Doing this multiple </span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>times can give an understanding about the population that the original sample</span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>came from.</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>While all Bootstrap methods follow the same formula, there are some slight</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>differences between different version of the Bootstrap. For example, the Monte</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>Carlo technique takes exact copies of the data from the original sample to </span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>place into the new sample <span class="co">[</span><span class="ot">@introduction</span><span class="co">]</span> while the Bayesian Bootstrap adds </span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>weights to each observation before selecting the data for the new sample. These </span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a>slight differences result in multiple different types of Bootstraps that can be</span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>used for different applications or to get around certain assumptions of another</span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a>type of Bootstrap.</span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a><span class="fu">### Assumptions and Shortcomings</span></span>
<span id="cb17-71"><a href="#cb17-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a>As Bootstrapping gains popularity, it's important to understand that there</span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a>are still assumptions that must be met, and shortcomings that should be</span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a>understood. The Importance of Discussing Assumptions when Teaching Bootstrapping</span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@assumptions</span><span class="co">]</span> takes an interesting approach of looking at those who are</span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a>learning about Bootstrapping, and assessing possible pain points. The largest</span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a>assumption listed is that the distribution can be made approximately pivotal</span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>through shifting or studentization. Further in this paper, an interesting</span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>result came out that if assumptions are broken when performing the Bootstrap</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a>method, it performs no better or worse then other methods whose assumptions are</span>
<span id="cb17-81"><a href="#cb17-81" aria-hidden="true" tabindex="-1"></a>also broken. Performing Bootstrapping with broken assumptions can also lead to</span>
<span id="cb17-82"><a href="#cb17-82" aria-hidden="true" tabindex="-1"></a>decreased performance of the method.</span>
<span id="cb17-83"><a href="#cb17-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-84"><a href="#cb17-84" aria-hidden="true" tabindex="-1"></a>One of the shortcomings of the Bootstrap method is that the results still rely</span>
<span id="cb17-85"><a href="#cb17-85" aria-hidden="true" tabindex="-1"></a>on the original sample <span class="co">[</span><span class="ot">@introduction</span><span class="co">]</span>. So, if the original sample contains</span>
<span id="cb17-86"><a href="#cb17-86" aria-hidden="true" tabindex="-1"></a>many outliers, then it most likely won't produce an accurate representation</span>
<span id="cb17-87"><a href="#cb17-87" aria-hidden="true" tabindex="-1"></a>of the population. Small sample sizes and data that does not follow a normal</span>
<span id="cb17-88"><a href="#cb17-88" aria-hidden="true" tabindex="-1"></a>distribution has also been found to negatively impact the performance of</span>
<span id="cb17-89"><a href="#cb17-89" aria-hidden="true" tabindex="-1"></a>Bootstrapping methods <span class="co">[</span><span class="ot">@assumptions</span><span class="co">]</span>.</span>
<span id="cb17-90"><a href="#cb17-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-91"><a href="#cb17-91" aria-hidden="true" tabindex="-1"></a><span class="fu">### Applications</span></span>
<span id="cb17-92"><a href="#cb17-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-93"><a href="#cb17-93" aria-hidden="true" tabindex="-1"></a>Bootstrapping has far reaching applications from finding a population mean to</span>
<span id="cb17-94"><a href="#cb17-94" aria-hidden="true" tabindex="-1"></a>performing hypothesis testing. Initially, Efron introduced the Bootstrap </span>
<span id="cb17-95"><a href="#cb17-95" aria-hidden="true" tabindex="-1"></a>method to estimate the sampling distribution, estimate the median, error rate </span>
<span id="cb17-96"><a href="#cb17-96" aria-hidden="true" tabindex="-1"></a>estimation in discrimination analysis, Wilcoxon's statistic, and regression </span>
<span id="cb17-97"><a href="#cb17-97" aria-hidden="true" tabindex="-1"></a>models <span class="co">[</span><span class="ot">@efron1</span><span class="co">]</span>. Another application from Efron was introduced in Nonparametric </span>
<span id="cb17-98"><a href="#cb17-98" aria-hidden="true" tabindex="-1"></a>Estimates of Standard Error: The Jackknife, the Bootstrap, and Other Methods </span>
<span id="cb17-99"><a href="#cb17-99" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@efron2</span><span class="co">]</span>. He introduces the concept of using the Bootstrap to estimate the </span>
<span id="cb17-100"><a href="#cb17-100" aria-hidden="true" tabindex="-1"></a>standard error based on the data. While this is normally done using parametric </span>
<span id="cb17-101"><a href="#cb17-101" aria-hidden="true" tabindex="-1"></a>modeling methods, here it is being done with non-parametric methods, like the </span>
<span id="cb17-102"><a href="#cb17-102" aria-hidden="true" tabindex="-1"></a>Bootstrap. As time has progressed, and computers have become more powerful, the </span>
<span id="cb17-103"><a href="#cb17-103" aria-hidden="true" tabindex="-1"></a>applications of Bootstrapping have increased.</span>
<span id="cb17-104"><a href="#cb17-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-105"><a href="#cb17-105" aria-hidden="true" tabindex="-1"></a>One popular application is using Bootstrapping to create confidence intervals</span>
<span id="cb17-106"><a href="#cb17-106" aria-hidden="true" tabindex="-1"></a>for certain statistics. Due to the nature of Bootstrapping, it creates results</span>
<span id="cb17-107"><a href="#cb17-107" aria-hidden="true" tabindex="-1"></a>that make perfect sense to construct confidence intervals. Often, Bootstrapping</span>
<span id="cb17-108"><a href="#cb17-108" aria-hidden="true" tabindex="-1"></a>implements confidence intervals around estimated parameter values </span>
<span id="cb17-109"><a href="#cb17-109" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@confidenceintervals</span><span class="co">]</span>. One example is using Bootstrapping to find the population </span>
<span id="cb17-110"><a href="#cb17-110" aria-hidden="true" tabindex="-1"></a>mean of a specific feature based on the sample means. A few other similar </span>
<span id="cb17-111"><a href="#cb17-111" aria-hidden="true" tabindex="-1"></a>applications are creating a confidence interval for the population mean and </span>
<span id="cb17-112"><a href="#cb17-112" aria-hidden="true" tabindex="-1"></a>estimating the distribution of a sample mean <span class="co">[</span><span class="ot">@introduction</span><span class="co">]</span>.</span>
<span id="cb17-113"><a href="#cb17-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-114"><a href="#cb17-114" aria-hidden="true" tabindex="-1"></a>Another popular application to Bootstrapping is in regression. In regression,</span>
<span id="cb17-115"><a href="#cb17-115" aria-hidden="true" tabindex="-1"></a>the Bootstrap method can be used to perform validation on the model. In</span>
<span id="cb17-116"><a href="#cb17-116" aria-hidden="true" tabindex="-1"></a>Bootstrapping with R to make generalized inference for regression model <span class="co">[</span><span class="ot">@withr</span><span class="co">]</span></span>
<span id="cb17-117"><a href="#cb17-117" aria-hidden="true" tabindex="-1"></a>the authors used the Bootstrap method to resample thousands of times, fit a </span>
<span id="cb17-118"><a href="#cb17-118" aria-hidden="true" tabindex="-1"></a>model to each new sample, and save the intercept and regression coefficient </span>
<span id="cb17-119"><a href="#cb17-119" aria-hidden="true" tabindex="-1"></a>estimates. Confidence intervals can then be created to assess performance of</span>
<span id="cb17-120"><a href="#cb17-120" aria-hidden="true" tabindex="-1"></a>a population regression model against the Bootstrap sample models. Another</span>
<span id="cb17-121"><a href="#cb17-121" aria-hidden="true" tabindex="-1"></a>possible application of Bootstrapping in regression is using it to approximate</span>
<span id="cb17-122"><a href="#cb17-122" aria-hidden="true" tabindex="-1"></a>the distribution of the Lasso estimator for all possible values of the unknown</span>
<span id="cb17-123"><a href="#cb17-123" aria-hidden="true" tabindex="-1"></a>regression parameter vector <span class="co">[</span><span class="ot">@lasso</span><span class="co">]</span>. The residual bootstrap can also be used</span>
<span id="cb17-124"><a href="#cb17-124" aria-hidden="true" tabindex="-1"></a>to consistently estimate the distribution and variance of the adaptive Lasso</span>
<span id="cb17-125"><a href="#cb17-125" aria-hidden="true" tabindex="-1"></a>estimator.</span>
<span id="cb17-126"><a href="#cb17-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-127"><a href="#cb17-127" aria-hidden="true" tabindex="-1"></a>The rise of statistical and mathematical programming languages and tools have</span>
<span id="cb17-128"><a href="#cb17-128" aria-hidden="true" tabindex="-1"></a>greatly improved the state of Bootstrapping. Since Bootstrapping normally </span>
<span id="cb17-129"><a href="#cb17-129" aria-hidden="true" tabindex="-1"></a>requires a large number of iterations to produce meaningful results, faster</span>
<span id="cb17-130"><a href="#cb17-130" aria-hidden="true" tabindex="-1"></a>computers and tools have allowed statisticians to gain useful information. </span>
<span id="cb17-131"><a href="#cb17-131" aria-hidden="true" tabindex="-1"></a>software packages have been created for SAS, Stata <span class="co">[</span><span class="ot">@difficult</span><span class="co">]</span>, and R <span class="co">[</span><span class="ot">@withr</span><span class="co">]</span></span>
<span id="cb17-132"><a href="#cb17-132" aria-hidden="true" tabindex="-1"></a>that allow common Bootstrapping functionality to be used readily and easily.</span>
<span id="cb17-133"><a href="#cb17-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-134"><a href="#cb17-134" aria-hidden="true" tabindex="-1"></a><span class="fu">## Methods</span></span>
<span id="cb17-135"><a href="#cb17-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-136"><a href="#cb17-136" aria-hidden="true" tabindex="-1"></a>There are a variety of different Bootstrap methods for specific scenarios, </span>
<span id="cb17-137"><a href="#cb17-137" aria-hidden="true" tabindex="-1"></a>populations, samples, and applications. Although, many of the Bootstrap</span>
<span id="cb17-138"><a href="#cb17-138" aria-hidden="true" tabindex="-1"></a>methods follow a similar set of steps. These steps for the one-sample problem</span>
<span id="cb17-139"><a href="#cb17-139" aria-hidden="true" tabindex="-1"></a>were outlined in Bootstrap Methods: Another Look at the Jackknife <span class="co">[</span><span class="ot">@efron1</span><span class="co">]</span></span>
<span id="cb17-140"><a href="#cb17-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-141"><a href="#cb17-141" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Construct the sample probability distribution $\hat{F}$, putting mass $1/n$</span>
<span id="cb17-142"><a href="#cb17-142" aria-hidden="true" tabindex="-1"></a>at each point $x_1, x_2, x_3, . . . , x_n$.</span>
<span id="cb17-143"><a href="#cb17-143" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>With $\hat{F}$ fixed, draw a random sample of size $n$ from $\hat{F}$, say</span>
<span id="cb17-144"><a href="#cb17-144" aria-hidden="true" tabindex="-1"></a>$X_{i}^{*} = x_{i}^{*}$, $X_{i}^{*} \sim _{ind}\hat{F}$ and call this the</span>
<span id="cb17-145"><a href="#cb17-145" aria-hidden="true" tabindex="-1"></a>bootstrap sample.</span>
<span id="cb17-146"><a href="#cb17-146" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Approximate the sampling distribution of $R(X, \hat{F}$ by the bootstrap</span>
<span id="cb17-147"><a href="#cb17-147" aria-hidden="true" tabindex="-1"></a>distribution of $R^{*} = R(X^{*}, \hat{F})$.</span>
<span id="cb17-148"><a href="#cb17-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-149"><a href="#cb17-149" aria-hidden="true" tabindex="-1"></a>Or more simply, to perform the Bootstrap method as proposed, given a sample of</span>
<span id="cb17-150"><a href="#cb17-150" aria-hidden="true" tabindex="-1"></a>size $n$, a new sample of size $n$ can be created by selecting from the original </span>
<span id="cb17-151"><a href="#cb17-151" aria-hidden="true" tabindex="-1"></a>sample with replacement. Since the new sample is created with replacement, every</span>
<span id="cb17-152"><a href="#cb17-152" aria-hidden="true" tabindex="-1"></a>element from the original sample has the same probability of ending up in the</span>
<span id="cb17-153"><a href="#cb17-153" aria-hidden="true" tabindex="-1"></a>new sample. This can then by performed multiple times to estimate the sampling</span>
<span id="cb17-154"><a href="#cb17-154" aria-hidden="true" tabindex="-1"></a>distribution based on the Bootstrap distribution.</span>
<span id="cb17-155"><a href="#cb17-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-156"><a href="#cb17-156" aria-hidden="true" tabindex="-1"></a>As time went on, new methods for Bootstrapping were introduced to be applied to</span>
<span id="cb17-157"><a href="#cb17-157" aria-hidden="true" tabindex="-1"></a>different applications or to further enhance the accuracy. Some of the more</span>
<span id="cb17-158"><a href="#cb17-158" aria-hidden="true" tabindex="-1"></a>popular methods are listed below.</span>
<span id="cb17-159"><a href="#cb17-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-160"><a href="#cb17-160" aria-hidden="true" tabindex="-1"></a><span class="fu">### Types of Bootstrap</span></span>
<span id="cb17-161"><a href="#cb17-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-162"><a href="#cb17-162" aria-hidden="true" tabindex="-1"></a>**Monte Carlo Case resampling**</span>
<span id="cb17-163"><a href="#cb17-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-164"><a href="#cb17-164" aria-hidden="true" tabindex="-1"></a>In the Monte Carlo method, a new sample is created by randomly selecting values </span>
<span id="cb17-165"><a href="#cb17-165" aria-hidden="true" tabindex="-1"></a>from the original sample using replacement to create a sample of the same size. </span>
<span id="cb17-166"><a href="#cb17-166" aria-hidden="true" tabindex="-1"></a>Statistics can then be computed from this new sample. This process is then </span>
<span id="cb17-167"><a href="#cb17-167" aria-hidden="true" tabindex="-1"></a>repeated many times to create an estimate of the population statistic. <span class="co">[</span><span class="ot">@efron1</span><span class="co">]</span></span>
<span id="cb17-168"><a href="#cb17-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-169"><a href="#cb17-169" aria-hidden="true" tabindex="-1"></a>**Exact Case resampling**</span>
<span id="cb17-170"><a href="#cb17-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-171"><a href="#cb17-171" aria-hidden="true" tabindex="-1"></a>The exact version for Bootstrap case resampling is similar to the Monte Carlo</span>
<span id="cb17-172"><a href="#cb17-172" aria-hidden="true" tabindex="-1"></a>method, except every possible enumeration of the initial sample is created. The</span>
<span id="cb17-173"><a href="#cb17-173" aria-hidden="true" tabindex="-1"></a>downside to this method is since there are a total of </span>
<span id="cb17-174"><a href="#cb17-174" aria-hidden="true" tabindex="-1"></a>${2n - 1 \choose n} = \frac{(2n - 1)!}{n!(n - 1)!}$ possible samples, the </span>
<span id="cb17-175"><a href="#cb17-175" aria-hidden="true" tabindex="-1"></a>process can be very intensive for large sample sizes. <span class="co">[</span><span class="ot">@introduction</span><span class="co">]</span></span>
<span id="cb17-176"><a href="#cb17-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-177"><a href="#cb17-177" aria-hidden="true" tabindex="-1"></a>**Smooth Bootstrap**</span>
<span id="cb17-178"><a href="#cb17-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-179"><a href="#cb17-179" aria-hidden="true" tabindex="-1"></a>In the Smooth Bootstrap, a small amount of random noise is added to every</span>
<span id="cb17-180"><a href="#cb17-180" aria-hidden="true" tabindex="-1"></a>re-sampled observation. This noise is zero-centered and usually normally</span>
<span id="cb17-181"><a href="#cb17-181" aria-hidden="true" tabindex="-1"></a>distributed. Doing this means that the re-sampled data is not limited to just</span>
<span id="cb17-182"><a href="#cb17-182" aria-hidden="true" tabindex="-1"></a>the data in the original sample, but rather to data points in close proximity to</span>
<span id="cb17-183"><a href="#cb17-183" aria-hidden="true" tabindex="-1"></a>the original samples. @fig-1 shows an example of the simple bootstrap density</span>
<span id="cb17-184"><a href="#cb17-184" aria-hidden="true" tabindex="-1"></a>function and @fig-2 shows an example of the smoothed density function provided</span>
<span id="cb17-185"><a href="#cb17-185" aria-hidden="true" tabindex="-1"></a>by <span class="co">[</span><span class="ot">@smooth</span><span class="co">]</span>.</span>
<span id="cb17-186"><a href="#cb17-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-187"><a href="#cb17-187" aria-hidden="true" tabindex="-1"></a>::: {layout-ncol=2}</span>
<span id="cb17-188"><a href="#cb17-188" aria-hidden="true" tabindex="-1"></a><span class="al">![Simple Bootstrap Density Function](Bootstrapping-Group-Report_files\figure-html\smooth1.png)</span>{#fig-1}</span>
<span id="cb17-189"><a href="#cb17-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-190"><a href="#cb17-190" aria-hidden="true" tabindex="-1"></a><span class="al">![Smoothed Bootstrap Density Function](Bootstrapping-Group-Report_files\figure-html\smooth2.png)</span>{#fig-2}</span>
<span id="cb17-191"><a href="#cb17-191" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb17-192"><a href="#cb17-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-193"><a href="#cb17-193" aria-hidden="true" tabindex="-1"></a>While these are some of the more popular methods for Bootstrapping, since </span>
<span id="cb17-194"><a href="#cb17-194" aria-hidden="true" tabindex="-1"></a>Bootstrapping simply refers to a test that uses random sampling with</span>
<span id="cb17-195"><a href="#cb17-195" aria-hidden="true" tabindex="-1"></a>replacement, there are multiple other types of Bootstrap methods. Some others</span>
<span id="cb17-196"><a href="#cb17-196" aria-hidden="true" tabindex="-1"></a>include the Bayesian Bootstrap method, which creates new samples through </span>
<span id="cb17-197"><a href="#cb17-197" aria-hidden="true" tabindex="-1"></a>assigning weights to the original data <span class="co">[</span><span class="ot">@bayesian</span><span class="co">]</span>, the</span>
<span id="cb17-198"><a href="#cb17-198" aria-hidden="true" tabindex="-1"></a>Parametric Bootstrap, the Poisson Bootstrap, the Block Bootstrap, and </span>
<span id="cb17-199"><a href="#cb17-199" aria-hidden="true" tabindex="-1"></a>resampling residuals.</span>
<span id="cb17-200"><a href="#cb17-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-201"><a href="#cb17-201" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analysis and Results </span></span>
<span id="cb17-202"><a href="#cb17-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-203"><a href="#cb17-203" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb17-204"><a href="#cb17-204" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb17-205"><a href="#cb17-205" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-206"><a href="#cb17-206" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb17-207"><a href="#cb17-207" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb17-208"><a href="#cb17-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-209"><a href="#cb17-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-210"><a href="#cb17-210" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data and Visualization </span></span>
<span id="cb17-211"><a href="#cb17-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-212"><a href="#cb17-212" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Initial Data Sets</span></span>
<span id="cb17-213"><a href="#cb17-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-214"><a href="#cb17-214" aria-hidden="true" tabindex="-1"></a>The dataset being used to explore Bootstrapping is the </span>
<span id="cb17-215"><a href="#cb17-215" aria-hidden="true" tabindex="-1"></a>"Causes of Death - Our World in Data" dataset from Kaggle <span class="co">[</span><span class="ot">@chavez_2022</span><span class="co">]</span> which </span>
<span id="cb17-216"><a href="#cb17-216" aria-hidden="true" tabindex="-1"></a>was expanded with the World Bank population dataset <span class="co">[</span><span class="ot">@worldbank</span><span class="co">]</span>. The </span>
<span id="cb17-217"><a href="#cb17-217" aria-hidden="true" tabindex="-1"></a>"Causes of Death - Our World in Data" dataset contains thirty three causes of </span>
<span id="cb17-218"><a href="#cb17-218" aria-hidden="true" tabindex="-1"></a>death broken down by continent, region, country, and territory and by the year </span>
<span id="cb17-219"><a href="#cb17-219" aria-hidden="true" tabindex="-1"></a>of reporting. The World Bank population dataset contains population numbers for </span>
<span id="cb17-220"><a href="#cb17-220" aria-hidden="true" tabindex="-1"></a>multiple years also broken down by continent, region, country, and territory. </span>
<span id="cb17-221"><a href="#cb17-221" aria-hidden="true" tabindex="-1"></a>The populations from the population dataset were added into the causes of death </span>
<span id="cb17-222"><a href="#cb17-222" aria-hidden="true" tabindex="-1"></a>dataset to allow for the calculation of the rate of death, or percentage of </span>
<span id="cb17-223"><a href="#cb17-223" aria-hidden="true" tabindex="-1"></a>total population, for each cause of death.</span>
<span id="cb17-224"><a href="#cb17-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-225"><a href="#cb17-225" aria-hidden="true" tabindex="-1"></a>To complete the original dataset, all rows that did not correspond to countries </span>
<span id="cb17-226"><a href="#cb17-226" aria-hidden="true" tabindex="-1"></a>were removed. The number of executions and terrorism columns were also removed </span>
<span id="cb17-227"><a href="#cb17-227" aria-hidden="true" tabindex="-1"></a>from the original causes of death dataset due to a lack of data for most</span>
<span id="cb17-228"><a href="#cb17-228" aria-hidden="true" tabindex="-1"></a>countries.</span>
<span id="cb17-229"><a href="#cb17-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-230"><a href="#cb17-230" aria-hidden="true" tabindex="-1"></a>As a final note, the Vatican and Liechtenstein are the only two countries </span>
<span id="cb17-231"><a href="#cb17-231" aria-hidden="true" tabindex="-1"></a>missing from the final, cleaned, dataset because they were not included in the </span>
<span id="cb17-232"><a href="#cb17-232" aria-hidden="true" tabindex="-1"></a>original causes of death dataset from Kaggle.</span>
<span id="cb17-233"><a href="#cb17-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-236"><a href="#cb17-236" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-237"><a href="#cb17-237" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the data</span></span>
<span id="cb17-238"><a href="#cb17-238" aria-hidden="true" tabindex="-1"></a>bootstrapping_data_cleaned <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">'bootstrapping_data_cleaned.csv'</span>, </span>
<span id="cb17-239"><a href="#cb17-239" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-240"><a href="#cb17-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-241"><a href="#cb17-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-242"><a href="#cb17-242" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Data Cleaning</span></span>
<span id="cb17-243"><a href="#cb17-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-244"><a href="#cb17-244" aria-hidden="true" tabindex="-1"></a>In order to fit the data into the experiments introduced later in the paper, the</span>
<span id="cb17-245"><a href="#cb17-245" aria-hidden="true" tabindex="-1"></a>dataset will need to be further modified. A new column, Number_Of_Deaths, that </span>
<span id="cb17-246"><a href="#cb17-246" aria-hidden="true" tabindex="-1"></a>includes the total number of reported deaths for a specific country and year by </span>
<span id="cb17-247"><a href="#cb17-247" aria-hidden="true" tabindex="-1"></a>adding together the totals from all causes of deaths will be added. Next, only</span>
<span id="cb17-248"><a href="#cb17-248" aria-hidden="true" tabindex="-1"></a>the columns needed for the experiments are extracted into a new dataset called</span>
<span id="cb17-249"><a href="#cb17-249" aria-hidden="true" tabindex="-1"></a>boot_data. At this point, only data from the most recent reported year, 2019, is</span>
<span id="cb17-250"><a href="#cb17-250" aria-hidden="true" tabindex="-1"></a>also extracted. The columns needed are the Entity, Population, Number_of_Deaths,</span>
<span id="cb17-251"><a href="#cb17-251" aria-hidden="true" tabindex="-1"></a>Deaths_cardiovascularDiseases, and Deaths_InterpersonalViolence columns. Lastly,</span>
<span id="cb17-252"><a href="#cb17-252" aria-hidden="true" tabindex="-1"></a>a new column is created that is the rate of all deaths caused by cardiovascular</span>
<span id="cb17-253"><a href="#cb17-253" aria-hidden="true" tabindex="-1"></a>diseases.</span>
<span id="cb17-254"><a href="#cb17-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-257"><a href="#cb17-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-258"><a href="#cb17-258" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the total number of reported deaths column</span></span>
<span id="cb17-259"><a href="#cb17-259" aria-hidden="true" tabindex="-1"></a>bootstrapping_data_cleaned<span class="sc">$</span>Number_Of_Deaths <span class="ot">&lt;-</span> </span>
<span id="cb17-260"><a href="#cb17-260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowSums</span>(bootstrapping_data_cleaned[,(<span class="dv">5</span><span class="sc">:</span><span class="dv">35</span>)])</span>
<span id="cb17-261"><a href="#cb17-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-262"><a href="#cb17-262" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter down the data to just include 2019 and just the columns needed</span></span>
<span id="cb17-263"><a href="#cb17-263" aria-hidden="true" tabindex="-1"></a>boot_data <span class="ot">=</span> </span>
<span id="cb17-264"><a href="#cb17-264" aria-hidden="true" tabindex="-1"></a>  bootstrapping_data_cleaned[bootstrapping_data_cleaned<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">'2019'</span>, </span>
<span id="cb17-265"><a href="#cb17-265" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">c</span>(<span class="st">'Entity'</span>, <span class="st">'Population'</span>, <span class="st">'Number_Of_Deaths'</span>,</span>
<span id="cb17-266"><a href="#cb17-266" aria-hidden="true" tabindex="-1"></a>                               <span class="st">'Deaths_CardiovascularDiseases'</span>,</span>
<span id="cb17-267"><a href="#cb17-267" aria-hidden="true" tabindex="-1"></a>                               <span class="st">'Deaths_InterpersonalViolence'</span>)]</span>
<span id="cb17-268"><a href="#cb17-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-269"><a href="#cb17-269" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the cardiovascular diseases rate column</span></span>
<span id="cb17-270"><a href="#cb17-270" aria-hidden="true" tabindex="-1"></a>boot_data<span class="sc">$</span>Deaths_CardiovascularDiseasesRate <span class="ot">&lt;-</span> </span>
<span id="cb17-271"><a href="#cb17-271" aria-hidden="true" tabindex="-1"></a>  boot_data<span class="sc">$</span>Deaths_CardiovascularDiseases <span class="sc">/</span> boot_data<span class="sc">$</span>Number_Of_Deaths</span>
<span id="cb17-272"><a href="#cb17-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-273"><a href="#cb17-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-274"><a href="#cb17-274" aria-hidden="true" tabindex="-1"></a>The dataset now contains the following columns:</span>
<span id="cb17-275"><a href="#cb17-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-276"><a href="#cb17-276" aria-hidden="true" tabindex="-1"></a>| Name                              | Description                                                                  | Type       |</span>
<span id="cb17-277"><a href="#cb17-277" aria-hidden="true" tabindex="-1"></a>|----------------------------|--------------------------|------------------|</span>
<span id="cb17-278"><a href="#cb17-278" aria-hidden="true" tabindex="-1"></a>| Entity                            | Name of Country                                                              | Nominal    |</span>
<span id="cb17-279"><a href="#cb17-279" aria-hidden="true" tabindex="-1"></a>| Population                        | Population of Country in 2019                                                | Discrete   |</span>
<span id="cb17-280"><a href="#cb17-280" aria-hidden="true" tabindex="-1"></a>| Number_of_Deaths                  | Total Number of Deaths for Country in 2019                                   | Discrete   |</span>
<span id="cb17-281"><a href="#cb17-281" aria-hidden="true" tabindex="-1"></a>| Deaths_CardiovascularDiseases     | Total Number of Deaths for Country Caused by Cardiovascular Diseases in 2019 | Nominal    |</span>
<span id="cb17-282"><a href="#cb17-282" aria-hidden="true" tabindex="-1"></a>| Deaths_InterpersonalViolence      | Total Number of Deaths for Country Caused by Interpersonal Violence in 2019  | Discrete   |</span>
<span id="cb17-283"><a href="#cb17-283" aria-hidden="true" tabindex="-1"></a>| Deaths_CardiovascularDiseasesRate | Rate of Deaths in Country Caused by Cardiovascular Diseases in 2019          | Continuous |</span>
<span id="cb17-284"><a href="#cb17-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-285"><a href="#cb17-285" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Descriptive Statistics</span></span>
<span id="cb17-286"><a href="#cb17-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-287"><a href="#cb17-287" aria-hidden="true" tabindex="-1"></a>Now that the dataset is created, we can find population descriptive statistics </span>
<span id="cb17-288"><a href="#cb17-288" aria-hidden="true" tabindex="-1"></a>to compare against the estimated population statistics from Bootstrapping. The </span>
<span id="cb17-289"><a href="#cb17-289" aria-hidden="true" tabindex="-1"></a>data can also be visualized to check that the rate of deaths caused by </span>
<span id="cb17-290"><a href="#cb17-290" aria-hidden="true" tabindex="-1"></a>cardiovascular diseases follows a normal distribution and that there appears to </span>
<span id="cb17-291"><a href="#cb17-291" aria-hidden="true" tabindex="-1"></a>be a relationship between the number of deaths caused by interpersonal violence</span>
<span id="cb17-292"><a href="#cb17-292" aria-hidden="true" tabindex="-1"></a>and the population of a country.</span>
<span id="cb17-293"><a href="#cb17-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-296"><a href="#cb17-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-297"><a href="#cb17-297" aria-hidden="true" tabindex="-1"></a><span class="co"># Find cardiovascular disease death rate statistics</span></span>
<span id="cb17-298"><a href="#cb17-298" aria-hidden="true" tabindex="-1"></a>boot_means <span class="ot">&lt;-</span> boot_data <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">mean_cardiovasculardiseasesrate =</span> </span>
<span id="cb17-299"><a href="#cb17-299" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">mean</span>(Deaths_CardiovascularDiseasesRate),</span>
<span id="cb17-300"><a href="#cb17-300" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">sd_cardiovasculardiseasesrate =</span> </span>
<span id="cb17-301"><a href="#cb17-301" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">sd</span>(Deaths_CardiovascularDiseasesRate))</span>
<span id="cb17-302"><a href="#cb17-302" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-303"><a href="#cb17-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-304"><a href="#cb17-304" aria-hidden="true" tabindex="-1"></a>The average rate of deaths caused by cardiovascular diseases across the entire </span>
<span id="cb17-305"><a href="#cb17-305" aria-hidden="true" tabindex="-1"></a>population is <span class="in">`r round(boot_means$mean_cardiovasculardiseasesrate, 4)`</span>, or </span>
<span id="cb17-306"><a href="#cb17-306" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_means$mean_cardiovasculardiseasesrate * 100, 2)`</span>%, with a standard </span>
<span id="cb17-307"><a href="#cb17-307" aria-hidden="true" tabindex="-1"></a>deviation of <span class="in">`r round(boot_means$sd_cardiovasculardiseasesrate, 4)`</span>, or </span>
<span id="cb17-308"><a href="#cb17-308" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_means$sd_cardiovasculardiseasesrate * 100, 2)`</span>%.</span>
<span id="cb17-309"><a href="#cb17-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-312"><a href="#cb17-312" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-313"><a href="#cb17-313" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the cardiovascular diseases death rate</span></span>
<span id="cb17-314"><a href="#cb17-314" aria-hidden="true" tabindex="-1"></a>cardioHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot_data, </span>
<span id="cb17-315"><a href="#cb17-315" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">aes</span>(<span class="at">x =</span> Deaths_CardiovascularDiseasesRate)) <span class="sc">+</span></span>
<span id="cb17-316"><a href="#cb17-316" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">xlab</span>(<span class="st">'Cardiovascular Diseases Death Rate'</span>) <span class="sc">+</span></span>
<span id="cb17-317"><a href="#cb17-317" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">ylab</span>(<span class="st">'Count'</span>) <span class="sc">+</span></span>
<span id="cb17-318"><a href="#cb17-318" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">geom_histogram</span>()</span>
<span id="cb17-319"><a href="#cb17-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-320"><a href="#cb17-320" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the interpersonal violence death rate against population</span></span>
<span id="cb17-321"><a href="#cb17-321" aria-hidden="true" tabindex="-1"></a>violenceHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot_data, </span>
<span id="cb17-322"><a href="#cb17-322" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">aes</span>(<span class="at">x =</span> Deaths_InterpersonalViolence, </span>
<span id="cb17-323"><a href="#cb17-323" aria-hidden="true" tabindex="-1"></a>                                <span class="at">y =</span> Population)) <span class="sc">+</span></span>
<span id="cb17-324"><a href="#cb17-324" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb17-325"><a href="#cb17-325" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb17-326"><a href="#cb17-326" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">xlab</span>(<span class="st">'Interpersonal Violence Deaths (log 10)'</span>) <span class="sc">+</span></span>
<span id="cb17-327"><a href="#cb17-327" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ylab</span>(<span class="st">'Population (log 10)'</span>) <span class="sc">+</span></span>
<span id="cb17-328"><a href="#cb17-328" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">geom_point</span>() </span>
<span id="cb17-329"><a href="#cb17-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-330"><a href="#cb17-330" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb17-331"><a href="#cb17-331" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(cardioHistogram, violenceHistogram, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb17-332"><a href="#cb17-332" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-333"><a href="#cb17-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-334"><a href="#cb17-334" aria-hidden="true" tabindex="-1"></a>Based on the histogram for the cardiovascular diseases death rate, it appears </span>
<span id="cb17-335"><a href="#cb17-335" aria-hidden="true" tabindex="-1"></a>that the death rate for cardiovascular diseases may follow a normal </span>
<span id="cb17-336"><a href="#cb17-336" aria-hidden="true" tabindex="-1"></a>distribution. The plot for interpersonal violence shows that there may be a </span>
<span id="cb17-337"><a href="#cb17-337" aria-hidden="true" tabindex="-1"></a>relationship between the number of deaths caused by interpersonal violence and </span>
<span id="cb17-338"><a href="#cb17-338" aria-hidden="true" tabindex="-1"></a>the population of the country. In both cases the data appear to be good</span>
<span id="cb17-339"><a href="#cb17-339" aria-hidden="true" tabindex="-1"></a>contenders for statistical modeling using the Bootstrap method.</span>
<span id="cb17-340"><a href="#cb17-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-341"><a href="#cb17-341" aria-hidden="true" tabindex="-1"></a><span class="fu">### Statistical Modeling</span></span>
<span id="cb17-342"><a href="#cb17-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-343"><a href="#cb17-343" aria-hidden="true" tabindex="-1"></a>Two applications of the Bootstrap method, both using the Monte Carlo method </span>
<span id="cb17-344"><a href="#cb17-344" aria-hidden="true" tabindex="-1"></a>(new samples are the exact size as the original sample) will be analyzed. The</span>
<span id="cb17-345"><a href="#cb17-345" aria-hidden="true" tabindex="-1"></a>first application is estimating the population mean and standard deviation of</span>
<span id="cb17-346"><a href="#cb17-346" aria-hidden="true" tabindex="-1"></a>the cardiovascular diseases death rate. The second application is testing</span>
<span id="cb17-347"><a href="#cb17-347" aria-hidden="true" tabindex="-1"></a>the variability of a simple linear regression model that estimates the</span>
<span id="cb17-348"><a href="#cb17-348" aria-hidden="true" tabindex="-1"></a>number of interpersonal violence deaths on the population of a country.</span>
<span id="cb17-349"><a href="#cb17-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-350"><a href="#cb17-350" aria-hidden="true" tabindex="-1"></a>In both experiments a sample of the full population data will need to be taken</span>
<span id="cb17-351"><a href="#cb17-351" aria-hidden="true" tabindex="-1"></a>to continue with the Bootstrap applications. A sample of the population was </span>
<span id="cb17-352"><a href="#cb17-352" aria-hidden="true" tabindex="-1"></a>taken, without replacement, with size $n = 20$ to use in the two applications.</span>
<span id="cb17-353"><a href="#cb17-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-356"><a href="#cb17-356" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-357"><a href="#cb17-357" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the initial sample</span></span>
<span id="cb17-358"><a href="#cb17-358" aria-hidden="true" tabindex="-1"></a>boot_initial_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(boot_data), <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-359"><a href="#cb17-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-360"><a href="#cb17-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-361"><a href="#cb17-361" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Estimating Population Mean and Standard Deviation</span></span>
<span id="cb17-362"><a href="#cb17-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-363"><a href="#cb17-363" aria-hidden="true" tabindex="-1"></a>To estimate the population mean and standard deviation using the Bootstrap </span>
<span id="cb17-364"><a href="#cb17-364" aria-hidden="true" tabindex="-1"></a>method, 1,000 new samples were created, with replacement, using the initial </span>
<span id="cb17-365"><a href="#cb17-365" aria-hidden="true" tabindex="-1"></a>sample created. A simple loop can be created to continuously create these new</span>
<span id="cb17-366"><a href="#cb17-366" aria-hidden="true" tabindex="-1"></a>samples. For every new sample that is created, the mean and standard deviation</span>
<span id="cb17-367"><a href="#cb17-367" aria-hidden="true" tabindex="-1"></a>can be calculated and saved to be analyzed.</span>
<span id="cb17-368"><a href="#cb17-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-371"><a href="#cb17-371" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-372"><a href="#cb17-372" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors to store new sample means and standard deviations</span></span>
<span id="cb17-373"><a href="#cb17-373" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb17-374"><a href="#cb17-374" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb17-375"><a href="#cb17-375" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 1,000 new samples and save the means and standard deviations</span></span>
<span id="cb17-376"><a href="#cb17-376" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>) {</span>
<span id="cb17-377"><a href="#cb17-377" aria-hidden="true" tabindex="-1"></a>  boot_new_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(boot_initial_sample, <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-378"><a href="#cb17-378" aria-hidden="true" tabindex="-1"></a>  boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_means,</span>
<span id="cb17-379"><a href="#cb17-379" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">pull</span>(</span>
<span id="cb17-380"><a href="#cb17-380" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">summarize</span>(</span>
<span id="cb17-381"><a href="#cb17-381" aria-hidden="true" tabindex="-1"></a>                                     boot_data[boot_new_sample,], </span>
<span id="cb17-382"><a href="#cb17-382" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">mean</span>(Deaths_CardiovascularDiseasesRate))))</span>
<span id="cb17-383"><a href="#cb17-383" aria-hidden="true" tabindex="-1"></a>  boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_sds, </span>
<span id="cb17-384"><a href="#cb17-384" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">pull</span>(</span>
<span id="cb17-385"><a href="#cb17-385" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">summarize</span>(</span>
<span id="cb17-386"><a href="#cb17-386" aria-hidden="true" tabindex="-1"></a>                                   boot_data[boot_new_sample,], </span>
<span id="cb17-387"><a href="#cb17-387" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">sd</span>(Deaths_CardiovascularDiseasesRate))))</span>
<span id="cb17-388"><a href="#cb17-388" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-389"><a href="#cb17-389" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-390"><a href="#cb17-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-393"><a href="#cb17-393" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-394"><a href="#cb17-394" aria-hidden="true" tabindex="-1"></a><span class="co"># Display some estimated means</span></span>
<span id="cb17-395"><a href="#cb17-395" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(boot_estimated_means)</span>
<span id="cb17-396"><a href="#cb17-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-397"><a href="#cb17-397" aria-hidden="true" tabindex="-1"></a><span class="co"># Display some estimated standard deviations</span></span>
<span id="cb17-398"><a href="#cb17-398" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(boot_estimated_sds)</span>
<span id="cb17-399"><a href="#cb17-399" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-400"><a href="#cb17-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-401"><a href="#cb17-401" aria-hidden="true" tabindex="-1"></a>In order to create a 95% confidence interval for the population mean and </span>
<span id="cb17-402"><a href="#cb17-402" aria-hidden="true" tabindex="-1"></a>standard deviation, the top and bottom 2.5% of saved means and standard</span>
<span id="cb17-403"><a href="#cb17-403" aria-hidden="true" tabindex="-1"></a>deviations can be trimmed. </span>
<span id="cb17-404"><a href="#cb17-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-407"><a href="#cb17-407" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-408"><a href="#cb17-408" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the estimated means from smallest to largest</span></span>
<span id="cb17-409"><a href="#cb17-409" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> <span class="fu">sort</span>(boot_estimated_means)</span>
<span id="cb17-410"><a href="#cb17-410" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the estimated standard deviations from smallest to largest</span></span>
<span id="cb17-411"><a href="#cb17-411" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> <span class="fu">sort</span>(boot_estimated_sds)</span>
<span id="cb17-412"><a href="#cb17-412" aria-hidden="true" tabindex="-1"></a><span class="co"># Trim the top and bottom 2.5%</span></span>
<span id="cb17-413"><a href="#cb17-413" aria-hidden="true" tabindex="-1"></a>start <span class="ot">=</span> <span class="fu">length</span>(boot_estimated_means) <span class="sc">*</span> <span class="fl">0.025</span></span>
<span id="cb17-414"><a href="#cb17-414" aria-hidden="true" tabindex="-1"></a>end <span class="ot">=</span> <span class="fu">length</span>(boot_estimated_means) <span class="sc">*</span> <span class="fl">0.975</span></span>
<span id="cb17-415"><a href="#cb17-415" aria-hidden="true" tabindex="-1"></a>boot_estimated_means <span class="ot">&lt;-</span> boot_estimated_means[start<span class="sc">:</span>end]</span>
<span id="cb17-416"><a href="#cb17-416" aria-hidden="true" tabindex="-1"></a>boot_estimated_sds <span class="ot">&lt;-</span> boot_estimated_sds[start<span class="sc">:</span>end]</span>
<span id="cb17-417"><a href="#cb17-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-418"><a href="#cb17-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-419"><a href="#cb17-419" aria-hidden="true" tabindex="-1"></a>Now, by retrieving the first and last element in both the mean and standard </span>
<span id="cb17-420"><a href="#cb17-420" aria-hidden="true" tabindex="-1"></a>deviation vectors, the 95% estimated population intervals can be constructed. </span>
<span id="cb17-421"><a href="#cb17-421" aria-hidden="true" tabindex="-1"></a>The 95% confidence interval for the population mean is </span>
<span id="cb17-422"><a href="#cb17-422" aria-hidden="true" tabindex="-1"></a><span class="sc">\[</span><span class="in">`r round(boot_estimated_means[1], 4)`</span>, </span>
<span id="cb17-423"><a href="#cb17-423" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_means[length(boot_estimated_means)], 4)`</span><span class="sc">\]</span> or </span>
<span id="cb17-424"><a href="#cb17-424" aria-hidden="true" tabindex="-1"></a><span class="sc">\[</span><span class="in">`r round(boot_estimated_means[1] * 100, 2)`</span>%, </span>
<span id="cb17-425"><a href="#cb17-425" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_means[length(boot_estimated_means)] * 100, 2)`</span>%<span class="sc">\]</span>. The </span>
<span id="cb17-426"><a href="#cb17-426" aria-hidden="true" tabindex="-1"></a>95% confidence interval for the population standard deviation is </span>
<span id="cb17-427"><a href="#cb17-427" aria-hidden="true" tabindex="-1"></a><span class="sc">\[</span><span class="in">`r round(boot_estimated_sds[1], 4)`</span>, </span>
<span id="cb17-428"><a href="#cb17-428" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_sds[length(boot_estimated_sds)], 4)`</span><span class="sc">\]</span> or </span>
<span id="cb17-429"><a href="#cb17-429" aria-hidden="true" tabindex="-1"></a><span class="sc">\[</span><span class="in">`r round(boot_estimated_sds[1] * 100, 2)`</span>%, </span>
<span id="cb17-430"><a href="#cb17-430" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_sds[length(boot_estimated_sds)] * 100, 2)`</span>%<span class="sc">\]</span>.</span>
<span id="cb17-431"><a href="#cb17-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-432"><a href="#cb17-432" aria-hidden="true" tabindex="-1"></a>To evaluate the accuracy of the estimated population mean and standard</span>
<span id="cb17-433"><a href="#cb17-433" aria-hidden="true" tabindex="-1"></a>deviation for the rate of deaths caused by cardiovascular diseases, the </span>
<span id="cb17-434"><a href="#cb17-434" aria-hidden="true" tabindex="-1"></a>population mean and standard deviation found from the full population can be</span>
<span id="cb17-435"><a href="#cb17-435" aria-hidden="true" tabindex="-1"></a>compared to the estimated confidence intervals. The true population statistics</span>
<span id="cb17-436"><a href="#cb17-436" aria-hidden="true" tabindex="-1"></a>should fall within the confidence interval range. In this case:</span>
<span id="cb17-437"><a href="#cb17-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-438"><a href="#cb17-438" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb17-439"><a href="#cb17-439" aria-hidden="true" tabindex="-1"></a>$<span class="in">`r round(boot_estimated_means[1], 4)`</span> &lt; </span>
<span id="cb17-440"><a href="#cb17-440" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_means$mean_cardiovasculardiseasesrate, 4)`</span> &lt;</span>
<span id="cb17-441"><a href="#cb17-441" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_means[length(boot_estimated_means)], 4)`</span>$</span>
<span id="cb17-442"><a href="#cb17-442" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb17-443"><a href="#cb17-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-444"><a href="#cb17-444" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb17-445"><a href="#cb17-445" aria-hidden="true" tabindex="-1"></a>$<span class="in">`r round(boot_estimated_sds[1], 4)`</span> &lt; </span>
<span id="cb17-446"><a href="#cb17-446" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_means$sd_cardiovasculardiseasesrate, 4)`</span> &lt;</span>
<span id="cb17-447"><a href="#cb17-447" aria-hidden="true" tabindex="-1"></a><span class="in">`r round(boot_estimated_sds[length(boot_estimated_sds)], 4)`</span>$</span>
<span id="cb17-448"><a href="#cb17-448" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb17-449"><a href="#cb17-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-452"><a href="#cb17-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-453"><a href="#cb17-453" aria-hidden="true" tabindex="-1"></a><span class="co"># Display a histogram of the estimated means from the Bootstrap samples</span></span>
<span id="cb17-454"><a href="#cb17-454" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb17-455"><a href="#cb17-455" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="fu">aes</span>(boot_estimated_means))</span>
<span id="cb17-456"><a href="#cb17-456" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-457"><a href="#cb17-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-458"><a href="#cb17-458" aria-hidden="true" tabindex="-1"></a>Visualizing the estimated means shows that they follow a normal distribution.</span>
<span id="cb17-459"><a href="#cb17-459" aria-hidden="true" tabindex="-1"></a>This matches the full population data for the rate of deaths caused by</span>
<span id="cb17-460"><a href="#cb17-460" aria-hidden="true" tabindex="-1"></a>cardiovascular diseases, which also follows a normal distribution.</span>
<span id="cb17-461"><a href="#cb17-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-462"><a href="#cb17-462" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Finding Variablility of Regression Model</span></span>
<span id="cb17-463"><a href="#cb17-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-464"><a href="#cb17-464" aria-hidden="true" tabindex="-1"></a>The next experiment is finding the variability for a simple linear regression </span>
<span id="cb17-465"><a href="#cb17-465" aria-hidden="true" tabindex="-1"></a>model. For this experiment a model will be fit that estimates the number of</span>
<span id="cb17-466"><a href="#cb17-466" aria-hidden="true" tabindex="-1"></a>deaths caused by interpersonal violence by the population of a country. Similar </span>
<span id="cb17-467"><a href="#cb17-467" aria-hidden="true" tabindex="-1"></a>to the first experiment, 1,000 new samples will be created and analyzed, except </span>
<span id="cb17-468"><a href="#cb17-468" aria-hidden="true" tabindex="-1"></a>instead of retrieving the mean and standard deviation, a linear regression model </span>
<span id="cb17-469"><a href="#cb17-469" aria-hidden="true" tabindex="-1"></a>will be fit based on the new sample and the intercept and regression parameter</span>
<span id="cb17-470"><a href="#cb17-470" aria-hidden="true" tabindex="-1"></a>will be extracted and saved. </span>
<span id="cb17-471"><a href="#cb17-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-474"><a href="#cb17-474" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-475"><a href="#cb17-475" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors to store new intercepts and regression parameters</span></span>
<span id="cb17-476"><a href="#cb17-476" aria-hidden="true" tabindex="-1"></a>boot_estimated_intercepts <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb17-477"><a href="#cb17-477" aria-hidden="true" tabindex="-1"></a>boot_estimated_regressionparameters <span class="ot">&lt;-</span> <span class="fu">rep</span>()</span>
<span id="cb17-478"><a href="#cb17-478" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 1,000 new samples and save the intercepts and parameters</span></span>
<span id="cb17-479"><a href="#cb17-479" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>) {</span>
<span id="cb17-480"><a href="#cb17-480" aria-hidden="true" tabindex="-1"></a>  boot_new_reg_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(boot_initial_sample, <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-481"><a href="#cb17-481" aria-hidden="true" tabindex="-1"></a>  boot_new_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population,</span>
<span id="cb17-482"><a href="#cb17-482" aria-hidden="true" tabindex="-1"></a>                    boot_data[boot_new_reg_sample,])</span>
<span id="cb17-483"><a href="#cb17-483" aria-hidden="true" tabindex="-1"></a>  boot_estimated_intercepts <span class="ot">&lt;-</span> <span class="fu">append</span>(boot_estimated_intercepts, </span>
<span id="cb17-484"><a href="#cb17-484" aria-hidden="true" tabindex="-1"></a>                                      boot_new_lm<span class="sc">$</span>coefficients[<span class="dv">1</span>])</span>
<span id="cb17-485"><a href="#cb17-485" aria-hidden="true" tabindex="-1"></a>  boot_estimated_regressionparameters <span class="ot">&lt;-</span> </span>
<span id="cb17-486"><a href="#cb17-486" aria-hidden="true" tabindex="-1"></a>    <span class="fu">append</span>(boot_estimated_regressionparameters, </span>
<span id="cb17-487"><a href="#cb17-487" aria-hidden="true" tabindex="-1"></a>           boot_new_lm<span class="sc">$</span>coefficients[<span class="dv">2</span>])</span>
<span id="cb17-488"><a href="#cb17-488" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-489"><a href="#cb17-489" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-490"><a href="#cb17-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-491"><a href="#cb17-491" aria-hidden="true" tabindex="-1"></a>Once all models have been created, and the intercept and regression parameter</span>
<span id="cb17-492"><a href="#cb17-492" aria-hidden="true" tabindex="-1"></a>saved, a model can be fit based on the full population and the initial sample</span>
<span id="cb17-493"><a href="#cb17-493" aria-hidden="true" tabindex="-1"></a>so the Bootstrap model can be compared against the other two. The intercept and</span>
<span id="cb17-494"><a href="#cb17-494" aria-hidden="true" tabindex="-1"></a>regression parameter for the Bootstrap model can find found by simply taking the</span>
<span id="cb17-495"><a href="#cb17-495" aria-hidden="true" tabindex="-1"></a>average of the estimated intercepts and estimated regression parameter vectors.</span>
<span id="cb17-496"><a href="#cb17-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-499"><a href="#cb17-499" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-500"><a href="#cb17-500" aria-hidden="true" tabindex="-1"></a><span class="co"># Create population model</span></span>
<span id="cb17-501"><a href="#cb17-501" aria-hidden="true" tabindex="-1"></a>pop_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population, boot_data)</span>
<span id="cb17-502"><a href="#cb17-502" aria-hidden="true" tabindex="-1"></a><span class="co"># Create initial sample model</span></span>
<span id="cb17-503"><a href="#cb17-503" aria-hidden="true" tabindex="-1"></a>sample_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Deaths_InterpersonalViolence <span class="sc">~</span> Population, </span>
<span id="cb17-504"><a href="#cb17-504" aria-hidden="true" tabindex="-1"></a>                boot_data[boot_initial_sample,])</span>
<span id="cb17-505"><a href="#cb17-505" aria-hidden="true" tabindex="-1"></a><span class="co"># Find Bootstrapping average values</span></span>
<span id="cb17-506"><a href="#cb17-506" aria-hidden="true" tabindex="-1"></a>boot_lm_intercept <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_estimated_intercepts) </span>
<span id="cb17-507"><a href="#cb17-507" aria-hidden="true" tabindex="-1"></a>boot_lm_x1 <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_estimated_regressionparameters)</span>
<span id="cb17-508"><a href="#cb17-508" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-509"><a href="#cb17-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-510"><a href="#cb17-510" aria-hidden="true" tabindex="-1"></a>|             | Population                 | Sample                        | Bootstrap             |</span>
<span id="cb17-511"><a href="#cb17-511" aria-hidden="true" tabindex="-1"></a>|----------------|-------------------|---------------------|----------------|</span>
<span id="cb17-512"><a href="#cb17-512" aria-hidden="true" tabindex="-1"></a>| (Intercept) | <span class="in">`r pop_lm$coefficients[1]`</span> | <span class="in">`r sample_lm$coefficients[1]`</span> | <span class="in">`r boot_lm_intercept`</span> |</span>
<span id="cb17-513"><a href="#cb17-513" aria-hidden="true" tabindex="-1"></a>| x           | <span class="in">`r pop_lm$coefficients[2]`</span> | <span class="in">`r sample_lm$coefficients[2]`</span> | <span class="in">`r boot_lm_x1`</span>        |</span>
<span id="cb17-514"><a href="#cb17-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-515"><a href="#cb17-515" aria-hidden="true" tabindex="-1"></a>Based on the table above, it should be clear that the Bootstrap model more </span>
<span id="cb17-516"><a href="#cb17-516" aria-hidden="true" tabindex="-1"></a>closely fits the sample model than the population model. Since the method</span>
<span id="cb17-517"><a href="#cb17-517" aria-hidden="true" tabindex="-1"></a>produces different results every time it is ran, it is hard to speak to the </span>
<span id="cb17-518"><a href="#cb17-518" aria-hidden="true" tabindex="-1"></a>exact numbers, but the sample and Bootstrap models are usually relatively close</span>
<span id="cb17-519"><a href="#cb17-519" aria-hidden="true" tabindex="-1"></a>to each other, while the population model might not be close. This tells us that</span>
<span id="cb17-520"><a href="#cb17-520" aria-hidden="true" tabindex="-1"></a>the full population model has high variability, or is sensitive to outliers or</span>
<span id="cb17-521"><a href="#cb17-521" aria-hidden="true" tabindex="-1"></a>other influential data points. This outcome can also be visualized by viewing</span>
<span id="cb17-522"><a href="#cb17-522" aria-hidden="true" tabindex="-1"></a>a plot of the original data with the population, sample, and Bootstrap models</span>
<span id="cb17-523"><a href="#cb17-523" aria-hidden="true" tabindex="-1"></a>displayed. To visualize what the Bootstrap method is doing, all 1,000 iterations</span>
<span id="cb17-524"><a href="#cb17-524" aria-hidden="true" tabindex="-1"></a>of models are also displayed.</span>
<span id="cb17-525"><a href="#cb17-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-528"><a href="#cb17-528" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-529"><a href="#cb17-529" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data, population model, sample model, and final Bootstrap model </span></span>
<span id="cb17-530"><a href="#cb17-530" aria-hidden="true" tabindex="-1"></a><span class="co"># (average of all models)</span></span>
<span id="cb17-531"><a href="#cb17-531" aria-hidden="true" tabindex="-1"></a>final_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Population, <span class="at">y =</span> Deaths_InterpersonalViolence), </span>
<span id="cb17-532"><a href="#cb17-532" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data =</span> boot_data) <span class="sc">+</span></span>
<span id="cb17-533"><a href="#cb17-533" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-534"><a href="#cb17-534" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">coef</span>(pop_lm)[<span class="dv">1</span>], </span>
<span id="cb17-535"><a href="#cb17-535" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">coef</span>(pop_lm)[<span class="dv">2</span>], </span>
<span id="cb17-536"><a href="#cb17-536" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color=</span> <span class="st">'blue'</span>) <span class="sc">+</span></span>
<span id="cb17-537"><a href="#cb17-537" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">coef</span>(sample_lm)[<span class="dv">1</span>], </span>
<span id="cb17-538"><a href="#cb17-538" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">coef</span>(sample_lm)[<span class="dv">2</span>], </span>
<span id="cb17-539"><a href="#cb17-539" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color =</span> <span class="st">'green'</span>) <span class="sc">+</span></span>
<span id="cb17-540"><a href="#cb17-540" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fu">mean</span>(boot_estimated_intercepts), </span>
<span id="cb17-541"><a href="#cb17-541" aria-hidden="true" tabindex="-1"></a>                          <span class="at">slope =</span> <span class="fu">mean</span>(boot_estimated_regressionparameters), </span>
<span id="cb17-542"><a href="#cb17-542" aria-hidden="true" tabindex="-1"></a>                          <span class="at">color =</span> <span class="st">'red'</span>) <span class="sc">+</span></span>
<span id="cb17-543"><a href="#cb17-543" aria-hidden="true" tabindex="-1"></a>              <span class="fu">xlab</span>(<span class="st">'Population'</span>) <span class="sc">+</span> </span>
<span id="cb17-544"><a href="#cb17-544" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ylab</span>(<span class="st">'Interpersonal Violence Deaths'</span>) <span class="sc">+</span></span>
<span id="cb17-545"><a href="#cb17-545" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ggtitle</span>(<span class="st">'Regression Comparison'</span>) <span class="sc">+</span></span>
<span id="cb17-546"><a href="#cb17-546" aria-hidden="true" tabindex="-1"></a>              <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Model"</span>)</span>
<span id="cb17-547"><a href="#cb17-547" aria-hidden="true" tabindex="-1"></a><span class="co"># Add all Bootstrap models</span></span>
<span id="cb17-548"><a href="#cb17-548" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(boot_estimated_intercepts)) {</span>
<span id="cb17-549"><a href="#cb17-549" aria-hidden="true" tabindex="-1"></a>  final_plot <span class="ot">&lt;-</span> final_plot <span class="sc">+</span> </span>
<span id="cb17-550"><a href="#cb17-550" aria-hidden="true" tabindex="-1"></a>                <span class="fu">geom_abline</span>(<span class="at">intercept =</span> boot_estimated_intercepts[x], </span>
<span id="cb17-551"><a href="#cb17-551" aria-hidden="true" tabindex="-1"></a>                            <span class="at">slope =</span> boot_estimated_regressionparameters[x], </span>
<span id="cb17-552"><a href="#cb17-552" aria-hidden="true" tabindex="-1"></a>                            <span class="at">alpha =</span> <span class="fl">0.025</span>)</span>
<span id="cb17-553"><a href="#cb17-553" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-554"><a href="#cb17-554" aria-hidden="true" tabindex="-1"></a><span class="co"># Display final plot</span></span>
<span id="cb17-555"><a href="#cb17-555" aria-hidden="true" tabindex="-1"></a>final_plot</span>
<span id="cb17-556"><a href="#cb17-556" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-557"><a href="#cb17-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-558"><a href="#cb17-558" aria-hidden="true" tabindex="-1"></a>A comparison of the regression lines further solidify the results shown in</span>
<span id="cb17-559"><a href="#cb17-559" aria-hidden="true" tabindex="-1"></a>the table. The sample model (green) and Bootstrap model (red) usually fall</span>
<span id="cb17-560"><a href="#cb17-560" aria-hidden="true" tabindex="-1"></a>closely together on the line. Since the Bootstrap models are created using the</span>
<span id="cb17-561"><a href="#cb17-561" aria-hidden="true" tabindex="-1"></a>same set of data as the initial sample this is expected. With this specific data</span>
<span id="cb17-562"><a href="#cb17-562" aria-hidden="true" tabindex="-1"></a>set, how close the population model (blue) falls to the other two is highly</span>
<span id="cb17-563"><a href="#cb17-563" aria-hidden="true" tabindex="-1"></a>variable. Since the results are different every time the models are created it's</span>
<span id="cb17-564"><a href="#cb17-564" aria-hidden="true" tabindex="-1"></a>possible that the Bootstrap model could fit the true population almost</span>
<span id="cb17-565"><a href="#cb17-565" aria-hidden="true" tabindex="-1"></a>identically. More interesting, to visualize the variability, all Bootstrap </span>
<span id="cb17-566"><a href="#cb17-566" aria-hidden="true" tabindex="-1"></a>models created are graphed (black). This shows the extreme values that can</span>
<span id="cb17-567"><a href="#cb17-567" aria-hidden="true" tabindex="-1"></a>occur with this dataset.</span>
<span id="cb17-568"><a href="#cb17-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-571"><a href="#cb17-571" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-572"><a href="#cb17-572" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the intercepts found from the Bootstrap method</span></span>
<span id="cb17-573"><a href="#cb17-573" aria-hidden="true" tabindex="-1"></a>interceptHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb17-574"><a href="#cb17-574" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(boot_estimated_intercepts) <span class="sc">+</span></span>
<span id="cb17-575"><a href="#cb17-575" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb17-576"><a href="#cb17-576" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb17-577"><a href="#cb17-577" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">xlab</span>(<span class="st">"Bootstrap Intercepts"</span>)</span>
<span id="cb17-578"><a href="#cb17-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-579"><a href="#cb17-579" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the regression parameter found from the Bootstrap </span></span>
<span id="cb17-580"><a href="#cb17-580" aria-hidden="true" tabindex="-1"></a><span class="co"># method</span></span>
<span id="cb17-581"><a href="#cb17-581" aria-hidden="true" tabindex="-1"></a>parameterHistogram <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb17-582"><a href="#cb17-582" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(boot_estimated_regressionparameters) <span class="sc">+</span></span>
<span id="cb17-583"><a href="#cb17-583" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb17-584"><a href="#cb17-584" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb17-585"><a href="#cb17-585" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">xlab</span>(<span class="st">"Bootstrap Regression Parameters"</span>)</span>
<span id="cb17-586"><a href="#cb17-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-587"><a href="#cb17-587" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb17-588"><a href="#cb17-588" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(interceptHistogram, parameterHistogram, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb17-589"><a href="#cb17-589" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-590"><a href="#cb17-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-591"><a href="#cb17-591" aria-hidden="true" tabindex="-1"></a>Again, similar to the means and standard deviations found in the first</span>
<span id="cb17-592"><a href="#cb17-592" aria-hidden="true" tabindex="-1"></a>experiment, the intercepts appear to follow a normal distribution. The </span>
<span id="cb17-593"><a href="#cb17-593" aria-hidden="true" tabindex="-1"></a>regression parameters usually do not appear to follow a normal distribution.</span>
<span id="cb17-594"><a href="#cb17-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-595"><a href="#cb17-595" aria-hidden="true" tabindex="-1"></a><span class="fu">### Conclusion</span></span>
<span id="cb17-596"><a href="#cb17-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-597"><a href="#cb17-597" aria-hidden="true" tabindex="-1"></a>In the first experiment, the population mean and standard deviation were</span>
<span id="cb17-598"><a href="#cb17-598" aria-hidden="true" tabindex="-1"></a>estimated using the Bootstrap method. After 1,000 new samples were created</span>
<span id="cb17-599"><a href="#cb17-599" aria-hidden="true" tabindex="-1"></a>and the means and standard deviations from every sample saved, they were</span>
<span id="cb17-600"><a href="#cb17-600" aria-hidden="true" tabindex="-1"></a>used to create a 95% confidence interval for the population mean and </span>
<span id="cb17-601"><a href="#cb17-601" aria-hidden="true" tabindex="-1"></a>standard deviations. Using those confidence intervals, the true population</span>
<span id="cb17-602"><a href="#cb17-602" aria-hidden="true" tabindex="-1"></a>values could be compared. It was found that the confidence interval for both</span>
<span id="cb17-603"><a href="#cb17-603" aria-hidden="true" tabindex="-1"></a>the mean and standard deviation fell within the confidence intervals. Lastly,</span>
<span id="cb17-604"><a href="#cb17-604" aria-hidden="true" tabindex="-1"></a>we could visualize that the estimated means followed a normal distribution.</span>
<span id="cb17-605"><a href="#cb17-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-606"><a href="#cb17-606" aria-hidden="true" tabindex="-1"></a>In the second experiment the simple linear regression model to estimate the</span>
<span id="cb17-607"><a href="#cb17-607" aria-hidden="true" tabindex="-1"></a>number of deaths caused by interpersonal violence on the country population was</span>
<span id="cb17-608"><a href="#cb17-608" aria-hidden="true" tabindex="-1"></a>analyzed for variability in the model. Again, using 1,000 new samples, a model</span>
<span id="cb17-609"><a href="#cb17-609" aria-hidden="true" tabindex="-1"></a>was fit for every sample created and the intercepts and regression parameters</span>
<span id="cb17-610"><a href="#cb17-610" aria-hidden="true" tabindex="-1"></a>were saved. The average of all 1,000 intercepts and regression parameters were</span>
<span id="cb17-611"><a href="#cb17-611" aria-hidden="true" tabindex="-1"></a>found to create the Bootstrap model. This model was then compared against the</span>
<span id="cb17-612"><a href="#cb17-612" aria-hidden="true" tabindex="-1"></a>model created using the full population data and the model created using the</span>
<span id="cb17-613"><a href="#cb17-613" aria-hidden="true" tabindex="-1"></a>initial sample data. It was found that the Bootstrap model usually follows the</span>
<span id="cb17-614"><a href="#cb17-614" aria-hidden="true" tabindex="-1"></a>sample model more closely than the full population model. A graph was presented</span>
<span id="cb17-615"><a href="#cb17-615" aria-hidden="true" tabindex="-1"></a>to show the difference between the three models, along with displaying all </span>
<span id="cb17-616"><a href="#cb17-616" aria-hidden="true" tabindex="-1"></a>models created as part of the Bootstrap method. </span>
<span id="cb17-617"><a href="#cb17-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-618"><a href="#cb17-618" aria-hidden="true" tabindex="-1"></a>These two experiments scratch the surface of demonstrate the usefulness of the </span>
<span id="cb17-619"><a href="#cb17-619" aria-hidden="true" tabindex="-1"></a>Bootstrap method. The population mean, standard deviation, and distribution of </span>
<span id="cb17-620"><a href="#cb17-620" aria-hidden="true" tabindex="-1"></a>the rate of death caused by cardiovascular diseases were able to be successfully </span>
<span id="cb17-621"><a href="#cb17-621" aria-hidden="true" tabindex="-1"></a>estimated. The model of deaths caused by interpersonal violence on population </span>
<span id="cb17-622"><a href="#cb17-622" aria-hidden="true" tabindex="-1"></a>was able to be analyzed to show it has high variability. </span>
<span id="cb17-623"><a href="#cb17-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-624"><a href="#cb17-624" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>